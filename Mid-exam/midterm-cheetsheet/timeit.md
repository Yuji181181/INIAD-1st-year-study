# Jupyterでのtimeitの使い方 チートシート

## 1. timeitの基本

`timeit`は、Pythonコードの実行時間を計測するためのモジュールで、特に速度を比較するのに便利です。Jupyter Notebookでは、以下の2つの方法で使用できます。

### 1.1. セル全体の時間を計測する

`%%timeit`をセルの冒頭に追加すると、セル全体の実行時間を測ることができます。

```python
%%timeit
# ここに計測対象のコードを記述
```
1.2. 行の時間を計測する%timeitを行の先頭に追加すると、その行の実行時間を測ることができます。
```python
%timeit # ここに計測対象のコードを記述
```
2. 計算時間の測り方2.1. timeとtimeitの違い

time:

一度だけの実行時間を測定します。具体的には、開始時刻を記録して実行後に終了時刻を記録して、差を計算します。
例えば、短いスクリプトの実行時間を知りたい時には便利ですが、実行環境によって結果が異なる場合があります。



timeit:

コードを複数回実行し、その平均時間を計測します。このアプローチにより、偶発的な遅さや速さの影響を最小化できます。
実行時間が短いコードの性能を測る際に非常に便利です。


2.2. 他の計測方法`%%time`および`%time`も有用です。

`%%time` : セルの冒頭に追加すると、そのセル全体の実行時間を測定。
`%time` : 行の先頭に追加することで、その行の実行時間を測定。
2.3. sortedの時間を計測以下のように、sorted関数の計測もできます：
```python
import numpy as np

# ソート対象のデータ生成
data = np.random.rand(1000)

# sortedの時間を計測
%timeit sorted_data = sorted(data)
```
2.4. 結果をプロットする計測結果をmatplotlibを使用してプロットすることも可能です。計測時間を収集して、グラフに描画することを考えましょう。
3. 参考
`%%timeit`と`%timeit`の違いを理解し、必要に応じて使い分けると良いでしょう。
各メソッドで得られた時間を比較することで、パフォーマンスを最適化する手助けになります。
