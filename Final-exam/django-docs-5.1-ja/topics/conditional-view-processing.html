<!DOCTYPE html>

<html lang="ja" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>条件付きのビュー処理 &#8212; Django 5.1.6.dev20250122212402 ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=34bb78ad" />
    <link rel="stylesheet" type="text/css" href="../_static/default.css?v=bf4d74af" />
    <script src="../_static/documentation_options.js?v=d2885b0a"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=4755f45a"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="暗号署名" href="signing.html" />
    <link rel="prev" title="Django のキャッシュフレームワーク" href="cache.html" />



 
<script src="../templatebuiltins.js"></script>
<script>
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "../ref/templates/builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);</script>

  </head><body>

    <div class="document">
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../index.html">Django 5.1.6.dev20250122212402 ドキュメント</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../index.html">Home</a>  |
        <a title="Table of contents" href="../contents.html">Table of contents</a>  |
        <a title="Global index" href="../genindex.html">Index</a>  |
        <a title="Module index" href="../py-modindex.html">Modules</a>
      </div>
      <div class="nav">
    &laquo; <a href="cache.html" title="Django のキャッシュフレームワーク">previous</a>
     |
    <a href="index.html" title="Django を使う" accesskey="U">up</a>
   |
    <a href="signing.html" title="暗号署名">next</a> &raquo;</div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="topics-conditional-view-processing">
            
  <section id="s-conditional-view-processing">
<span id="conditional-view-processing"></span><h1>条件付きのビュー処理<a class="headerlink" href="#conditional-view-processing" title="Link to this heading">¶</a></h1>
<p>HTTP クライアントは、さまざまな HTTPヘッダーを送信することで、受信したリソースについてサーバーに伝えることができます。この方法は、ウェブページを (<code class="docutils literal notranslate"><span class="pre">GET</span></code> メソッドを利用して) 取得する際に、すでにクライアントが取得しているデータを送信するのを回避するためによく使われます。しかし、同じヘッダーは、全ての HTTP メソッド (<code class="docutils literal notranslate"><span class="pre">POST</span></code>、<code class="docutils literal notranslate"><span class="pre">PUT</span></code>、<code class="docutils literal notranslate"><span class="pre">DELETE</span></code> など) で利用できます。</p>
<p>Django がビューから送り返す各ページ (レスポンス) に対して、Django は2種類の HTTP ヘッダ、<code class="docutils literal notranslate"><span class="pre">ETag</span></code> ヘッダと <code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code> ヘッダを提供できます。これらのヘッダは HTTP レスポンス上ではオプションです。ヘッダはビュー関数で設定することも、<a class="reference internal" href="../ref/middleware.html#django.middleware.http.ConditionalGetMiddleware" title="django.middleware.http.ConditionalGetMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConditionalGetMiddleware</span></code></a> ミドルウェアを使用して <code class="docutils literal notranslate"><span class="pre">ETag</span></code> ヘッダを設定してもらうこともできます。</p>
<p>クライアントが次に同じリソースをリクエストしたとき、<span class="target" id="index-16"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9110.html#section-13.1.3"><strong>If-Modified-Since</strong></a> や <span class="target" id="index-17"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9110.html#section-13.1.4"><strong>If-Unmodified-Since</strong></a> のような、最後に変更された時刻を含むヘッダ、あるいは、<span class="target" id="index-18"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9110.html#section-13.1.1"><strong>If-Match</strong></a> や <span class="target" id="index-19"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9110.html#section-13.1.2"><strong>If-None-Match</strong></a> のような、最後に送信された <code class="docutils literal notranslate"><span class="pre">ETag</span></code> を含むヘッダとともにリクエストを送信することがあります。もしページの現在のバージョンがクライアントから送信された <code class="docutils literal notranslate"><span class="pre">ETag</span></code> と一致するか、リソースが変更されていない場合、完全なレスポンスの代わりに、ステータスコード304を送り返すことで、クライアントに何も変更がないことを伝えられます。ヘッダによりますが、もしページが変更されていなくて、クライアントから送られてきた <code class="docutils literal notranslate"><span class="pre">ETag</span></code> とも一致しない場合には、ステータスコード412 (Precondition Failed) が返せます。</p>
<p>より細かい粒度のコントロールが必要な場合には、ビューごとの条件付き処理関数を使えます。</p>
<section id="s-the-condition-decorator">
<span id="s-conditional-decorators"></span><span id="the-condition-decorator"></span><span id="conditional-decorators"></span><h2><code class="docutils literal notranslate"><span class="pre">condition</span></code> デコレータ<a class="headerlink" href="#the-condition-decorator" title="Link to this heading">¶</a></h2>
<p>時には（実際にはかなり頻繁に）、リソースの <span class="target" id="index-20"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9110.html#section-8.8.3"><strong>ETag</strong></a> 値や最終更新時間を迅速に計算する関数も作成できます。これは、完全なビューを構築するために必要なすべての計算を行う <strong>必要がない</strong> 場合です。Django は、これらの関数を使用して、ビュー処理の「早期脱出」オプションを提供できます。たとえば、クライアントに対して、コンテンツが前回のリクエスト以降変更されていないことを伝えます。</p>
<p>これら 2 つの関数は <code class="docutils literal notranslate"><span class="pre">django.views.decorators.http.condition</span></code> デコレータのパラメータとして渡されます。このデコレータは、HTTP リクエストのヘッダがリソースのヘッダと一致するかどうかを調べるために、2 つの関数 (両方の量を簡単かつ迅速に計算できない場合は、1 つだけを渡す必要があります) を使用します。もし一致しなければ、リソースの新しいコピーを計算して通常のビューを呼び出します。</p>
<p><code class="docutils literal notranslate"><span class="pre">condition</span></code> デコレータのシグネチャは次のようになります。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">condition</span><span class="p">(</span><span class="n">etag_func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">last_modified_func</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>ETag と最終更新時間を計算するための2つの関数は、受信した <code class="docutils literal notranslate"><span class="pre">request</span></code> オブジェクトと、それらがサポートするビュー関数と同じパラメータを、同じ順序で渡されます。 <code class="docutils literal notranslate"><span class="pre">last_modified_func</span></code> に渡された関数は、リソースが最後に変更された時間を指定する標準の datetime 値を返すべきです。または、リソースが存在しない場合は <code class="docutils literal notranslate"><span class="pre">None</span></code> を返すべきです。 <code class="docutils literal notranslate"><span class="pre">etag</span></code> デコレータに渡された関数は、リソースの <span class="target" id="index-21"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9110.html#section-8.8.3"><strong>ETag</strong></a> を表す文字列を返すべきです。または、それが存在しない場合は <code class="docutils literal notranslate"><span class="pre">None</span></code> を返すべきです。</p>
<p>デコレータは、それらがビューによってまだ設定されていない場合、そしてリクエストのメソッドが安全なもの（<code class="docutils literal notranslate"><span class="pre">GET</span></code> または <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>）である場合に、レスポンスに <code class="docutils literal notranslate"><span class="pre">ETag</span></code> ヘッダと <code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code> ヘッダを設定します。</p>
<p>この機能を有効に使う方法は、例を挙げて説明するのが一番でしょう。小さなブログシステムを表す次のようなモデルのペアがあるとします。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.db</span><span class="w"> </span><span class="kn">import</span> <span class="n">models</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Blog</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span> <span class="o">...</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Entry</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">blog</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Blog</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">)</span>
    <span class="n">published</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>最新のブログエントリーを表示するフロントページが、新しいブログエントリーを追加したときだけ変更されるのであれば、最終更新時刻をとても速く計算できます。そのブログに関連するすべてのエントリーの最新の <code class="docutils literal notranslate"><span class="pre">published</span></code> 日付が必要です。これを行う一つの方法は次のようなものです。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">latest_entry</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">blog_id</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Entry</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">blog</span><span class="o">=</span><span class="n">blog_id</span><span class="p">)</span><span class="o">.</span><span class="n">latest</span><span class="p">(</span><span class="s2">&quot;published&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">published</span>
</pre></div>
</div>
<p>この機能を使えば、トップページビューで変更されていないページを早期に検出できます。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.views.decorators.http</span><span class="w"> </span><span class="kn">import</span> <span class="n">condition</span>


<span class="nd">@condition</span><span class="p">(</span><span class="n">last_modified_func</span><span class="o">=</span><span class="n">latest_entry</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">front_page</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">blog_id</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<div class="admonition-be-careful-with-the-order-of-decorators admonition">
<p class="admonition-title">デコレータの順番に注意</p>
<p>条件付きレスポンスが <code class="docutils literal notranslate"><span class="pre">condition()</span></code> によって返される場合、それ以下のデコレータはスキップされ、レスポンスに適用されません。したがって、通常のビューレスポンスと条件付きレスポンスの両方に適用する必要があるデコレータは <code class="docutils literal notranslate"><span class="pre">condition()</span></code> より上に置く必要があります。特に、 <a class="reference internal" href="http/decorators.html#django.views.decorators.vary.vary_on_cookie" title="django.views.decorators.vary.vary_on_cookie"><code class="xref py py-func docutils literal notranslate"><span class="pre">vary_on_cookie()</span></code></a>, <a class="reference internal" href="http/decorators.html#django.views.decorators.vary.vary_on_headers" title="django.views.decorators.vary.vary_on_headers"><code class="xref py py-func docutils literal notranslate"><span class="pre">vary_on_headers()</span></code></a>, <a class="reference internal" href="http/decorators.html#django.views.decorators.cache.cache_control" title="django.views.decorators.cache.cache_control"><code class="xref py py-func docutils literal notranslate"><span class="pre">cache_control()</span></code></a> は、 <span class="target" id="index-22"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9110.html#section-15.4.5"><strong>RFC 9110</strong></a> が 304 レスポンスにヘッダを設定することを要求しているため、最初に置くべきです。</p>
</div>
</section>
<section id="s-shortcuts-for-only-computing-one-value">
<span id="shortcuts-for-only-computing-one-value"></span><h2>1つの値を計算するだけのショートカット<a class="headerlink" href="#shortcuts-for-only-computing-one-value" title="Link to this heading">¶</a></h2>
<p>一般的なルールとして、ETag と最終更新時刻の <em>両方</em> を計算する関数を提供できるのであれば、そうすべきです。どの HTTP クライアントがどのヘッダを送ってくるかはわからないので、両方を扱えるように準備しましょう。しかし、片方の値だけを計算するのが簡単な場合もあり、 Django は ETag だけ、あるいは last-modified だけを計算するデコレータを提供します。</p>
<p><code class="docutils literal notranslate"><span class="pre">django.views.decorators.http.etag</span></code> と <code class="docutils literal notranslate"><span class="pre">django.views.decorators.http.last_modified</span></code> デコレータは <code class="docutils literal notranslate"><span class="pre">condition</span></code> デコレータと同じ型の関数を渡されます。これらのシグネチャは次の通りです。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">etag</span><span class="p">(</span><span class="n">etag_func</span><span class="p">)</span>
<span class="n">last_modified</span><span class="p">(</span><span class="n">last_modified_func</span><span class="p">)</span>
</pre></div>
</div>
<p>last-modified 関数だけを使う先ほどの例も、このデコレータを使って書くことができます。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@last_modified</span><span class="p">(</span><span class="n">latest_entry</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">front_page</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">blog_id</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
<p>もしくは、次のように書きます。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">front_page</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">blog_id</span><span class="p">):</span> <span class="o">...</span>


<span class="n">front_page</span> <span class="o">=</span> <span class="n">last_modified</span><span class="p">(</span><span class="n">latest_entry</span><span class="p">)(</span><span class="n">front_page</span><span class="p">)</span>
</pre></div>
</div>
<section id="s-use-condition-when-testing-both-conditions">
<span id="use-condition-when-testing-both-conditions"></span><h3>2つの条件をテストする場合に <code class="docutils literal notranslate"><span class="pre">condition</span></code> を使う<a class="headerlink" href="#use-condition-when-testing-both-conditions" title="Link to this heading">¶</a></h3>
<p>もし両方の前提条件をテストしたいのであれば、 <code class="docutils literal notranslate"><span class="pre">etag</span></code> デコレータと <code class="docutils literal notranslate"><span class="pre">last_modified</span></code> デコレータを連結させたほうがすっきりするかもしれません。しかし、これは正しくない動作につながります。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Bad code. Don&#39;t do this!</span>
<span class="nd">@etag</span><span class="p">(</span><span class="n">etag_func</span><span class="p">)</span>
<span class="nd">@last_modified</span><span class="p">(</span><span class="n">last_modified_func</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">my_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span> <span class="o">...</span>


<span class="c1"># End of bad code.</span>
</pre></div>
</div>
<p>最初のデコレータは 2 番目のデコレータについて何も知らないので、 2 番目のデコレータがレスポンスは変更されていると判断した場合でも、変更されていないと答えるかもしれません。条件 <code class="docutils literal notranslate"><span class="pre">condition</span></code> デコレータは両方のコールバック関数を同時に使用して、正しい動作を決定します。</p>
</section>
</section>
<section id="s-using-the-decorators-with-other-http-methods">
<span id="using-the-decorators-with-other-http-methods"></span><h2>その他の HTTP メソッドでデコレータを使用する<a class="headerlink" href="#using-the-decorators-with-other-http-methods" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">condition</span></code> デコレータは <code class="docutils literal notranslate"><span class="pre">GET</span></code> と <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> リクエスト以外にも有用です (<code class="docutils literal notranslate"><span class="pre">HEAD</span></code> リクエストはこの状況では <code class="docutils literal notranslate"><span class="pre">GET</span></code> と同じです)。 <code class="docutils literal notranslate"><span class="pre">POST</span></code>、<code class="docutils literal notranslate"><span class="pre">PUT</span></code>、<code class="docutils literal notranslate"><span class="pre">DELETE</span></code> リクエストのチェックにも使うことができます。このような状況では、&quot;not modified&quot; 応答を返すのではなく、変更しようとしているリソースがその間に変更されたことをクライアントに伝えることを考えます。</p>
<p>たとえば、つぎのようなクライアントとサーバを交換する例を考えてみてください。</p>
<ol class="arabic simple">
<li><p>クライアントが <code class="docutils literal notranslate"><span class="pre">/foo/</span></code> をリクエストします。</p></li>
<li><p>サーバーは何らかのコンテンツを <code class="docutils literal notranslate"><span class="pre">&quot;abcd1234&quot;</span></code> という ETag を付けて返します。</p></li>
<li><p>クライアントは HTTP <code class="docutils literal notranslate"><span class="pre">PUT</span></code> リクエストを <code class="docutils literal notranslate"><span class="pre">/foo/</span></code> に送信して、リソースを更新します。<code class="docutils literal notranslate"><span class="pre">If-Match:</span> <span class="pre">&quot;abcd1234&quot;</span></code> ヘッダも送信して、更新しようとしているバージョンを指定します。</p></li>
<li><p>サーバーは、<code class="docutils literal notranslate"><span class="pre">GET</span></code> リクエストと同じ方法で (同じ関数を使って) ETag を計算することで、リソースが変更されているかどうかをチェックします。もしリソースが <em>すでに</em> 変更されていた場合、「precondition failed」を意味するステータスコード412を返します。</p></li>
<li><p>クライアントは、412レスポンスを受信した後、実際に更新する前に、更新されたバージョンのコンテンツを取得するために、<code class="docutils literal notranslate"><span class="pre">GET</span></code> リクエストを <code class="docutils literal notranslate"><span class="pre">/foo/</span></code> に送信します。</p></li>
</ol>
<p>この例が示している重要な点は、ETag と最終変更の値を計算するのに、すべての状況で同じ関数が使えるということです。実際、毎回同じ値が返されるように、同じ関数を使う <strong>必要がある</strong> のです。</p>
<div class="admonition-validator-headers-with-non-safe-request-methods admonition">
<p class="admonition-title">安全ではないリクエストメソッドを含むバリデーターヘッダ</p>
<p><code class="docutils literal notranslate"><span class="pre">condition</span></code> デコレータは、安全な HTTP メソッド、つまり <code class="docutils literal notranslate"><span class="pre">GET</span></code> と <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> に対してのみバリデータヘッダ (<code class="docutils literal notranslate"><span class="pre">ETag</span></code> と <code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code>) を設定します。 それ以外の場合にこれらを返したい場合は、ビューで設定してください。 <code class="docutils literal notranslate"><span class="pre">PUT</span></code> と <code class="docutils literal notranslate"><span class="pre">POST</span></code> のリクエストに対するバリデーションヘッダの設定の違いについては <span class="target" id="index-23"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9110.html#section-9.3.4"><strong>RFC 9110 Section 9.3.4</strong></a> を参照してください。</p>
</div>
</section>
<section id="s-comparison-with-middleware-conditional-processing">
<span id="comparison-with-middleware-conditional-processing"></span><h2>ミドルウェアの条件付き処理との比較<a class="headerlink" href="#comparison-with-middleware-conditional-processing" title="Link to this heading">¶</a></h2>
<p>Django は、<a class="reference internal" href="../ref/middleware.html#django.middleware.http.ConditionalGetMiddleware" title="django.middleware.http.ConditionalGetMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.middleware.http.ConditionalGetMiddleware</span></code></a> 経由で条件付き <code class="docutils literal notranslate"><span class="pre">GET</span></code> 処理を提供しています。多くの状況に適していますが、ミドルウェアは高度な利用に次のような限界があります。</p>
<ul class="simple">
<li><p>プロジェクト内のすべてのビューにグローバルに適用されてしまう。</p></li>
<li><p>レスポンスを生成する手間が省けるわけではなく、コストがかかる場合がある。</p></li>
<li><p>HTTP の <code class="docutils literal notranslate"><span class="pre">GET</span></code> リクエストに対してのみ適している。</p></li>
</ul>
<p>ここでは、特定の問題に最も適したツールを選択するべきです。もし ETag と変更時刻を高速に計算する手段があり、一部のビューがコンテンツを生成するのに時間がかかるのであれば、このドキュメントで説明した <code class="docutils literal notranslate"><span class="pre">condition</span></code> デコレータを使用することを検討するべきです。もしすべてがすでにかなり高速に動作しているなら、引き続きミドルウェアを使用し続けてください。ビューが変更されていなければ、クライアントに送り返されるネットワークトラフィックは、引き続き削減されます。</p>
</section>
</section>


          </div>
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">目次</a></h3>
    <ul>
<li><a class="reference internal" href="#">条件付きのビュー処理</a><ul>
<li><a class="reference internal" href="#the-condition-decorator"><code class="docutils literal notranslate"><span class="pre">condition</span></code> デコレータ</a></li>
<li><a class="reference internal" href="#shortcuts-for-only-computing-one-value">1つの値を計算するだけのショートカット</a><ul>
<li><a class="reference internal" href="#use-condition-when-testing-both-conditions">2つの条件をテストする場合に <code class="docutils literal notranslate"><span class="pre">condition</span></code> を使う</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-the-decorators-with-other-http-methods">その他の HTTP メソッドでデコレータを使用する</a></li>
<li><a class="reference internal" href="#comparison-with-middleware-conditional-processing">ミドルウェアの条件付き処理との比較</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>前のトピックへ</h4>
    <p class="topless"><a href="cache.html"
                          title="前の章へ">Django のキャッシュフレームワーク</a></p>
  </div>
  <div>
    <h4>次のトピックへ</h4>
    <p class="topless"><a href="signing.html"
                          title="次の章へ">暗号署名</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/topics/conditional-view-processing.txt"
            rel="nofollow">ソースコードを表示</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="検索" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
              <h3>Last update:</h3>
              <p class="topless">1月 22, 2025</p>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    &laquo; <a href="cache.html" title="Django のキャッシュフレームワーク">previous</a>
     |
    <a href="index.html" title="Django を使う" accesskey="U">up</a>
   |
    <a href="signing.html" title="暗号署名">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>