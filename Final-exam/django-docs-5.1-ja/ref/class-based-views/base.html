<!DOCTYPE html>

<html lang="ja" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>ベース・ビュー &#8212; Django 5.1.6.dev20250122212402 ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=34bb78ad" />
    <link rel="stylesheet" type="text/css" href="../../_static/default.css?v=bf4d74af" />
    <script src="../../_static/documentation_options.js?v=d2885b0a"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=4755f45a"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="検索" href="../../search.html" />
    <link rel="next" title="ジェネリック表示ビュー (Generic display view)" href="generic-display.html" />
    <link rel="prev" title="ビルトインのクラスベースビュー API" href="index.html" />



 
<script src="../../templatebuiltins.js"></script>
<script>
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "../templates/builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);</script>

  </head><body>

    <div class="document">
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../../index.html">Django 5.1.6.dev20250122212402 ドキュメント</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../../index.html">Home</a>  |
        <a title="Table of contents" href="../../contents.html">Table of contents</a>  |
        <a title="Global index" href="../../genindex.html">Index</a>  |
        <a title="Module index" href="../../py-modindex.html">Modules</a>
      </div>
      <div class="nav">
    &laquo; <a href="index.html" title="ビルトインのクラスベースビュー API">previous</a>
     |
    <a href="../index.html" title="API リファレンス" accesskey="U">up</a>
   |
    <a href="generic-display.html" title="ジェネリック表示ビュー (Generic display view)">next</a> &raquo;</div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="ref-class-based-views-base">
            
  <section id="s-base-views">
<span id="base-views"></span><h1>ベース・ビュー<a class="headerlink" href="#base-views" title="Link to this heading">¶</a></h1>
<p>以下の3つのクラスは、Django のビューの作成に必要な多くの機能を提供します。これらは Django ビューの <em>親の</em> ビューとみなすことができ、それ自体で使うことも継承して使うこともできます。プロジェクトに必要な全ての機能を提供するわけではありませんが、その場合はミックスインとクラスベースのジェネリックビューが使えます。</p>
<p>多くの Django に組み込みのクラスベースビューは、ほかのクラスベースビューや多種のミックスインを継承しています。この継承の連結は非常に重要なため、原型のクラスは <strong>継承元 (MRO)</strong> セクションにドキュメントがあります。MRO は メソッド解決順序 (Method Resolution Order) の略です。</p>
<section id="s-view">
<span id="view"></span><h2><code class="docutils literal notranslate"><span class="pre">View</span></code><a class="headerlink" href="#view" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="django.views.generic.base.View">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">django.views.generic.base.</span></span><span class="sig-name descname"><span class="pre">View</span></span><a class="headerlink" href="#django.views.generic.base.View" title="Link to this definition">¶</a></dt>
<dd><p>基本ビュークラス。他の全てのクラスベースのビューはこの基底クラスを継承します。厳密にはジェネリックビューではないので、 <code class="docutils literal notranslate"><span class="pre">django.views</span></code> からインポートすることもできます。</p>
<p><strong>メソッドのフローチャート</strong></p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#django.views.generic.base.View.setup" title="django.views.generic.base.View.setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setup()</span></code></a></p></li>
<li><p><a class="reference internal" href="#django.views.generic.base.View.dispatch" title="django.views.generic.base.View.dispatch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dispatch()</span></code></a></p></li>
<li><p><a class="reference internal" href="#django.views.generic.base.View.http_method_not_allowed" title="django.views.generic.base.View.http_method_not_allowed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">http_method_not_allowed()</span></code></a></p></li>
<li><p><a class="reference internal" href="#django.views.generic.base.View.options" title="django.views.generic.base.View.options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">options()</span></code></a></p></li>
</ol>
<p><strong>Example views.py</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.http</span><span class="w"> </span><span class="kn">import</span> <span class="n">HttpResponse</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.views</span><span class="w"> </span><span class="kn">import</span> <span class="n">View</span>


<span class="k">class</span><span class="w"> </span><span class="nc">MyView</span><span class="p">(</span><span class="n">View</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&quot;Hello, World!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example urls.py</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.urls</span><span class="w"> </span><span class="kn">import</span> <span class="n">path</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">myapp.views</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyView</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s2">&quot;mine/&quot;</span><span class="p">,</span> <span class="n">MyView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my-view&quot;</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
<p><strong>属性</strong></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.views.generic.base.View.http_method_names">
<span class="sig-name descname"><span class="pre">http_method_names</span></span><a class="headerlink" href="#django.views.generic.base.View.http_method_names" title="Link to this definition">¶</a></dt>
<dd><p>このビューが受け入れる HTTP メソッドの名称のリストです。</p>
<p>デフォルト値:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;get&quot;</span><span class="p">,</span> <span class="s2">&quot;post&quot;</span><span class="p">,</span> <span class="s2">&quot;put&quot;</span><span class="p">,</span> <span class="s2">&quot;patch&quot;</span><span class="p">,</span> <span class="s2">&quot;delete&quot;</span><span class="p">,</span> <span class="s2">&quot;head&quot;</span><span class="p">,</span> <span class="s2">&quot;options&quot;</span><span class="p">,</span> <span class="s2">&quot;trace&quot;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<p><strong>メソッド</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="django.views.generic.base.View.as_view">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">as_view</span></span>(<em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">initkwargs</span></span></em>)<a class="headerlink" href="#django.views.generic.base.View.as_view" title="Link to this definition">¶</a></dt>
<dd><p>リクエストを受け取ってレスポンスを返す、呼び出し可能なビューを返します:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">MyView</span><span class="o">.</span><span class="n">as_view</span><span class="p">()(</span><span class="n">request</span><span class="p">)</span>
</pre></div>
</div>
<p>返されたビューは、<code class="docutils literal notranslate"><span class="pre">view_class</span></code> と <code class="docutils literal notranslate"><span class="pre">view_initkwargs</span></code> 属性を持っています。</p>
<p>リクエスト/レスポンスサイクル中にビューが呼び出されると、<a class="reference internal" href="#django.views.generic.base.View.setup" title="django.views.generic.base.View.setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setup()</span></code></a> メソッドは <a class="reference internal" href="../request-response.html#django.http.HttpRequest" title="django.http.HttpRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">HttpRequest</span></code></a> をビューの <code class="docutils literal notranslate"><span class="pre">request</span></code> 属性に割り当て、<a class="reference internal" href="../../topics/http/urls.html#how-django-processes-a-request"><span class="std std-ref">URLパターンからキャプチャされた位置引数および/またはキーワード引数</span></a> をそれぞれ <code class="docutils literal notranslate"><span class="pre">args</span></code> および <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> 属性に割り当てます。その後、<a class="reference internal" href="#django.views.generic.base.View.dispatch" title="django.views.generic.base.View.dispatch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dispatch()</span></code></a> が呼び出されます。</p>
<p>ビューのサブクラスが非同期 (<code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">def</span></code>) メソッドハンドラを定義している場合、 <code class="docutils literal notranslate"><span class="pre">as_view()</span></code> は返された呼び出し可能オブジェクトをコルーチン関数としてマークします。非同期ハンドラ (<code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">def</span></code>) と同期ハンドラ (<code class="docutils literal notranslate"><span class="pre">def</span></code>) の両方が1つのビュークラスで定義されている場合、 <code class="docutils literal notranslate"><span class="pre">ImproperlyConfigured</span></code> 例外が発生します。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.views.generic.base.View.setup">
<span class="sig-name descname"><span class="pre">setup</span></span>(<em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="headerlink" href="#django.views.generic.base.View.setup" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#django.views.generic.base.View.dispatch" title="django.views.generic.base.View.dispatch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dispatch()</span></code></a> の前に、ビューの初期化のための重要な処理を実行します。</p>
<p>このメソッドをオーバーライドする場合は、 <code class="docutils literal notranslate"><span class="pre">super()</span></code> を呼び出さなければなりません。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.views.generic.base.View.dispatch">
<span class="sig-name descname"><span class="pre">dispatch</span></span>(<em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="headerlink" href="#django.views.generic.base.View.dispatch" title="Link to this definition">¶</a></dt>
<dd><p>ビューの <code class="docutils literal notranslate"><span class="pre">view</span></code> 部分 -- <code class="docutils literal notranslate"><span class="pre">request</span></code> 引数と引数を受け取り、HTTPレスポンスを返すメソッドです。</p>
<p>デフォルトの処理は、HTTP メソッドを調べて、その HTTP メソッドと一致するメソッドに処理を委ねるよう試みます。例えば、<code class="docutils literal notranslate"><span class="pre">GET</span></code> は <code class="docutils literal notranslate"><span class="pre">get()</span></code> に、<code class="docutils literal notranslate"><span class="pre">POST</span></code> は <code class="docutils literal notranslate"><span class="pre">post()</span></code> に委ねられます。</p>
<p>デフォルトでは、<code class="docutils literal notranslate"><span class="pre">HEAD</span></code> リクエストは <code class="docutils literal notranslate"><span class="pre">get()</span></code> に委ねられます。<code class="docutils literal notranslate"><span class="pre">HEAD</span></code> リクエストを <code class="docutils literal notranslate"><span class="pre">GET</span></code> とは違う方法で操作する必要がある場合は、<code class="docutils literal notranslate"><span class="pre">head()</span></code> メソッドをオーバーライドできます。例えば <a class="reference internal" href="../../topics/class-based-views/index.html#supporting-other-http-methods"><span class="std std-ref">その他の HTTP メソッドをサポートする</span></a> を参照してください。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.views.generic.base.View.http_method_not_allowed">
<span class="sig-name descname"><span class="pre">http_method_not_allowed</span></span>(<em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="headerlink" href="#django.views.generic.base.View.http_method_not_allowed" title="Link to this definition">¶</a></dt>
<dd><p>ビューがサポートしていない HTTP メソッドで呼び出された場合は、 代わりにこのメソッドが呼び出されます。</p>
<p>プレーンテキストで、有効なメソッドのリストともに、<code class="docutils literal notranslate"><span class="pre">HttpResponseNotAllowed</span></code> を返すデフォルトの処理です。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.views.generic.base.View.options">
<span class="sig-name descname"><span class="pre">options</span></span>(<em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="headerlink" href="#django.views.generic.base.View.options" title="Link to this definition">¶</a></dt>
<dd><p>OPTIONS HTTP 動詞のためのリクエストへのレスポンスを操作します。ビューの有効な HTTP メソッド名のリストを含む <code class="docutils literal notranslate"><span class="pre">Allow</span></code> ヘッダーとともにレスポンスを返します。</p>
<p>クラスの他のHTTPメソッドハンドラが非同期 (<code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">def</span></code>) である場合、レスポンスは <code class="docutils literal notranslate"><span class="pre">await</span></code> で使用するコルーチン関数にラップされます。</p>
</dd></dl>

</dd></dl>

</section>
<section id="s-templateview">
<span id="templateview"></span><h2><code class="docutils literal notranslate"><span class="pre">TemplateView</span></code><a class="headerlink" href="#templateview" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="django.views.generic.base.TemplateView">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">django.views.generic.base.</span></span><span class="sig-name descname"><span class="pre">TemplateView</span></span><a class="headerlink" href="#django.views.generic.base.TemplateView" title="Link to this definition">¶</a></dt>
<dd><p>URL 内でキャプチャされたパラメータを含むコンテキストとともに、与えられたテンプレートをレンダリングします。</p>
<p><strong>継承元 (MRO)</strong></p>
<p>このメソッドは、以下のビューからメソッドと属性を継承しています:</p>
<ul class="simple">
<li><p><a class="reference internal" href="mixins-simple.html#django.views.generic.base.TemplateResponseMixin" title="django.views.generic.base.TemplateResponseMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.views.generic.base.TemplateResponseMixin</span></code></a></p></li>
<li><p><a class="reference internal" href="mixins-simple.html#django.views.generic.base.ContextMixin" title="django.views.generic.base.ContextMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.views.generic.base.ContextMixin</span></code></a></p></li>
<li><p><a class="reference internal" href="#django.views.generic.base.View" title="django.views.generic.base.View"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.views.generic.base.View</span></code></a></p></li>
</ul>
<p><strong>メソッドのフローチャート</strong></p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#django.views.generic.base.View.setup" title="django.views.generic.base.View.setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setup()</span></code></a></p></li>
<li><p><a class="reference internal" href="#django.views.generic.base.View.dispatch" title="django.views.generic.base.View.dispatch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dispatch()</span></code></a></p></li>
<li><p><a class="reference internal" href="#django.views.generic.base.View.http_method_not_allowed" title="django.views.generic.base.View.http_method_not_allowed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">http_method_not_allowed()</span></code></a></p></li>
<li><p><a class="reference internal" href="mixins-simple.html#django.views.generic.base.ContextMixin.get_context_data" title="django.views.generic.base.ContextMixin.get_context_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_context_data()</span></code></a></p></li>
</ol>
<p><strong>Example views.py</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.views.generic.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">TemplateView</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">articles.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Article</span>


<span class="k">class</span><span class="w"> </span><span class="nc">HomePageView</span><span class="p">(</span><span class="n">TemplateView</span><span class="p">):</span>
    <span class="n">template_name</span> <span class="o">=</span> <span class="s2">&quot;home.html&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_context_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">context</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_context_data</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">context</span><span class="p">[</span><span class="s2">&quot;latest_articles&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Article</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()[:</span><span class="mi">5</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">context</span>
</pre></div>
</div>
<p><strong>Example urls.py</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.urls</span><span class="w"> </span><span class="kn">import</span> <span class="n">path</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">myapp.views</span><span class="w"> </span><span class="kn">import</span> <span class="n">HomePageView</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">HomePageView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;home&quot;</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
<p><strong>コンテキスト</strong></p>
<ul class="simple">
<li><p>(<a class="reference internal" href="mixins-simple.html#django.views.generic.base.ContextMixin" title="django.views.generic.base.ContextMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ContextMixin</span></code></a> を通じて) ビューに対応した URL パターンからキャプチャされたキーワード引数とともに入力されます。</p></li>
<li><p><a class="reference internal" href="#django.views.generic.base.View.as_view" title="django.views.generic.base.View.as_view"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_view()</span></code></a> に <a class="reference internal" href="mixins-simple.html#django.views.generic.base.ContextMixin.extra_context" title="django.views.generic.base.ContextMixin.extra_context"><code class="xref py py-attr docutils literal notranslate"><span class="pre">extra_context</span></code></a> キーワード引数を使用して、コンテキストを追加することもできます。</p></li>
</ul>
</dd></dl>

</section>
<section id="s-redirectview">
<span id="redirectview"></span><h2><code class="docutils literal notranslate"><span class="pre">RedirectView</span></code><a class="headerlink" href="#redirectview" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="django.views.generic.base.RedirectView">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">django.views.generic.base.</span></span><span class="sig-name descname"><span class="pre">RedirectView</span></span><a class="headerlink" href="#django.views.generic.base.RedirectView" title="Link to this definition">¶</a></dt>
<dd><p>与えられた URL にリダイレクトします。</p>
<p>与えられた URL は、辞書形式の文字列フォーマットを含むかもしれず、URL 内でキャプチャされたパラメータに対して追加されます。キーワード追加は (たとえ引数が渡されなくとも) <em>常に</em> 行われるため、Python がアウトプット上でパーセント文字に変換できるように、URL 内のすべての <code class="docutils literal notranslate"><span class="pre">&quot;%&quot;</span></code> 文字は <code class="docutils literal notranslate"><span class="pre">&quot;%%&quot;</span></code> と書かれなければなりません。</p>
<p>与えられた URL が <code class="docutils literal notranslate"><span class="pre">None</span></code> の場合、Djangoは <code class="docutils literal notranslate"><span class="pre">HttpResponseGone</span></code> (410) を返します。</p>
<p><strong>継承元 (MRO)</strong></p>
<p>このビューは、以下のビューからメソッドと属性を継承します:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#django.views.generic.base.View" title="django.views.generic.base.View"><code class="xref py py-class docutils literal notranslate"><span class="pre">django.views.generic.base.View</span></code></a></p></li>
</ul>
<p><strong>メソッドのフローチャート</strong></p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#django.views.generic.base.View.setup" title="django.views.generic.base.View.setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setup()</span></code></a></p></li>
<li><p><a class="reference internal" href="#django.views.generic.base.View.dispatch" title="django.views.generic.base.View.dispatch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dispatch()</span></code></a></p></li>
<li><p><a class="reference internal" href="#django.views.generic.base.View.http_method_not_allowed" title="django.views.generic.base.View.http_method_not_allowed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">http_method_not_allowed()</span></code></a></p></li>
<li><p><a class="reference internal" href="#django.views.generic.base.RedirectView.get_redirect_url" title="django.views.generic.base.RedirectView.get_redirect_url"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_redirect_url()</span></code></a></p></li>
</ol>
<p><strong>Example views.py</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.shortcuts</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_object_or_404</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.views.generic.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">RedirectView</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">articles.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Article</span>


<span class="k">class</span><span class="w"> </span><span class="nc">ArticleCounterRedirectView</span><span class="p">(</span><span class="n">RedirectView</span><span class="p">):</span>
    <span class="n">permanent</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">query_string</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">pattern_name</span> <span class="o">=</span> <span class="s2">&quot;article-detail&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_redirect_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">article</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Article</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;pk&quot;</span><span class="p">])</span>
        <span class="n">article</span><span class="o">.</span><span class="n">update_counter</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_redirect_url</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Example urls.py</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django.urls</span><span class="w"> </span><span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.views.generic.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">RedirectView</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">article.views</span><span class="w"> </span><span class="kn">import</span> <span class="n">ArticleCounterRedirectView</span><span class="p">,</span> <span class="n">ArticleDetailView</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span>
        <span class="s2">&quot;counter/&lt;int:pk&gt;/&quot;</span><span class="p">,</span>
        <span class="n">ArticleCounterRedirectView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;article-counter&quot;</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s2">&quot;details/&lt;int:pk&gt;/&quot;</span><span class="p">,</span> <span class="n">ArticleDetailView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;article-detail&quot;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span>
        <span class="s2">&quot;go-to-django/&quot;</span><span class="p">,</span>
        <span class="n">RedirectView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://www.djangoproject.com/&quot;</span><span class="p">),</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;go-to-django&quot;</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
<p><strong>属性</strong></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.views.generic.base.RedirectView.url">
<span class="sig-name descname"><span class="pre">url</span></span><a class="headerlink" href="#django.views.generic.base.RedirectView.url" title="Link to this definition">¶</a></dt>
<dd><p>リダイレクト先の URL です。もしくは、410 (Gone) HTTP エラーを投げる <code class="docutils literal notranslate"><span class="pre">None</span></code> です。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.views.generic.base.RedirectView.pattern_name">
<span class="sig-name descname"><span class="pre">pattern_name</span></span><a class="headerlink" href="#django.views.generic.base.RedirectView.pattern_name" title="Link to this definition">¶</a></dt>
<dd><p>リダイレクト先の URL パターンの名前です。このビューのために渡されてきたものと同じ args と kwargs を使って逆引きされます。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.views.generic.base.RedirectView.permanent">
<span class="sig-name descname"><span class="pre">permanent</span></span><a class="headerlink" href="#django.views.generic.base.RedirectView.permanent" title="Link to this definition">¶</a></dt>
<dd><p>リダイレクトがパーマネントかどうかを指定します。ここでの違いは、返される HTTP ステータスコードだけです。<code class="docutils literal notranslate"><span class="pre">True</span></code> の場合、リダイレクトはステータスコード 301 を使います。<code class="docutils literal notranslate"><span class="pre">False</span></code> の場合は、ステータスコード 302 を使います。デフォルトでは、<code class="docutils literal notranslate"><span class="pre">permanent</span></code> は <code class="docutils literal notranslate"><span class="pre">False</span></code> です。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.views.generic.base.RedirectView.query_string">
<span class="sig-name descname"><span class="pre">query_string</span></span><a class="headerlink" href="#django.views.generic.base.RedirectView.query_string" title="Link to this definition">¶</a></dt>
<dd><p>GET クエリ文字列を新しい場所に渡すかどうかを指定します。<code class="docutils literal notranslate"><span class="pre">True</span></code> の場合、クエリ文字列は URL に追加されます。<code class="docutils literal notranslate"><span class="pre">False</span></code> の場合、クエリ文字列は破棄されます。 デフォルトでは、<code class="docutils literal notranslate"><span class="pre">query_string</span></code> は <code class="docutils literal notranslate"><span class="pre">False</span></code> です。</p>
</dd></dl>

<p><strong>メソッド</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="django.views.generic.base.RedirectView.get_redirect_url">
<span class="sig-name descname"><span class="pre">get_redirect_url</span></span>(<em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="headerlink" href="#django.views.generic.base.RedirectView.get_redirect_url" title="Link to this definition">¶</a></dt>
<dd><p>リダイレクトのために、対象の URL を組み立てます。</p>
<p><code class="docutils literal notranslate"><span class="pre">args</span></code> と <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> 引数は、それぞれ <a class="reference internal" href="../../topics/http/urls.html#how-django-processes-a-request"><span class="std std-ref">URL パターン</span></a> から取得した、位置引数および/またはキーワード引数です。</p>
<p>デフォルトの処理は、<a class="reference internal" href="#django.views.generic.base.RedirectView.url" title="django.views.generic.base.RedirectView.url"><code class="xref py py-attr docutils literal notranslate"><span class="pre">url</span></code></a> を最初の文字列として使い、URLでキャプチャされた名前付きグループを使用したその文字列内の名前付き <code class="docutils literal notranslate"><span class="pre">%</span></code> パラメータの展開を実行します。</p>
<p><a class="reference internal" href="#django.views.generic.base.RedirectView.url" title="django.views.generic.base.RedirectView.url"><code class="xref py py-attr docutils literal notranslate"><span class="pre">url</span></code></a> がセットされていない場合、<code class="docutils literal notranslate"><span class="pre">get_redirect_url()</span></code> が URLでキャプチャされたものを使って <a class="reference internal" href="#django.views.generic.base.RedirectView.pattern_name" title="django.views.generic.base.RedirectView.pattern_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">pattern_name</span></code></a> を逆引きしようとします (名前あり・名前なしグループの両方が使われます)。</p>
<p><a class="reference internal" href="#django.views.generic.base.RedirectView.query_string" title="django.views.generic.base.RedirectView.query_string"><code class="xref py py-attr docutils literal notranslate"><span class="pre">query_string</span></code></a> によってリクエストされた場合、生成された URL にクエリ文字列を追加します。サブクラスは、メソッドがリダイレクト準備ができた URL 文字列を返す限り、これらが望むとおりの処理をします。</p>
</dd></dl>

</dd></dl>

</section>
</section>


          </div>
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../contents.html">目次</a></h3>
    <ul>
<li><a class="reference internal" href="#">ベース・ビュー</a><ul>
<li><a class="reference internal" href="#view"><code class="docutils literal notranslate"><span class="pre">View</span></code></a></li>
<li><a class="reference internal" href="#templateview"><code class="docutils literal notranslate"><span class="pre">TemplateView</span></code></a></li>
<li><a class="reference internal" href="#redirectview"><code class="docutils literal notranslate"><span class="pre">RedirectView</span></code></a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>前のトピックへ</h4>
    <p class="topless"><a href="index.html"
                          title="前の章へ">ビルトインのクラスベースビュー API</a></p>
  </div>
  <div>
    <h4>次のトピックへ</h4>
    <p class="topless"><a href="generic-display.html"
                          title="次の章へ">ジェネリック表示ビュー (Generic display view)</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/ref/class-based-views/base.txt"
            rel="nofollow">ソースコードを表示</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="検索" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
              <h3>Last update:</h3>
              <p class="topless">1月 22, 2025</p>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    &laquo; <a href="index.html" title="ビルトインのクラスベースビュー API">previous</a>
     |
    <a href="../index.html" title="API リファレンス" accesskey="U">up</a>
   |
    <a href="generic-display.html" title="ジェネリック表示ビュー (Generic display view)">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>