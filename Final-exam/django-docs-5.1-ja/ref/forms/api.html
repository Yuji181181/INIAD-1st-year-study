<!DOCTYPE html>

<html lang="ja" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>フォーム API &#8212; Django 5.1.6.dev20250122212402 ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=34bb78ad" />
    <link rel="stylesheet" type="text/css" href="../../_static/default.css?v=bf4d74af" />
    <script src="../../_static/documentation_options.js?v=d2885b0a"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=4755f45a"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="検索" href="../../search.html" />
    <link rel="next" title="フォーム フィールド" href="fields.html" />
    <link rel="prev" title="フォーム" href="index.html" />



 
<script src="../../templatebuiltins.js"></script>
<script>
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "../templates/builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);</script>

  </head><body>

    <div class="document">
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../../index.html">Django 5.1.6.dev20250122212402 ドキュメント</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../../index.html">Home</a>  |
        <a title="Table of contents" href="../../contents.html">Table of contents</a>  |
        <a title="Global index" href="../../genindex.html">Index</a>  |
        <a title="Module index" href="../../py-modindex.html">Modules</a>
      </div>
      <div class="nav">
    &laquo; <a href="index.html" title="フォーム">previous</a>
     |
    <a href="../index.html" title="API リファレンス" accesskey="U">up</a>
   |
    <a href="fields.html" title="フォーム フィールド">next</a> &raquo;</div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="ref-forms-api">
            
  <section id="s-module-django.forms">
<span id="s-the-forms-api"></span><span id="module-django.forms"></span><span id="the-forms-api"></span><h1>フォーム API<a class="headerlink" href="#module-django.forms" title="Link to this heading">¶</a></h1>
<div class="admonition-about-this-document admonition">
<p class="admonition-title">このドキュメントについて</p>
<p>このドキュメントでは、Django のフォーム API の詳細について説明します。このドキュメントを読む前に <a class="reference internal" href="../../topics/forms/index.html"><span class="doc">フォームについての概要</span></a> を読むことをおすすめします。</p>
</div>
<section id="s-bound-and-unbound-forms">
<span id="s-ref-forms-api-bound-unbound"></span><span id="bound-and-unbound-forms"></span><span id="ref-forms-api-bound-unbound"></span><h2>バインドされた (bound) フォームとバインドされていない (unbound) フォーム<a class="headerlink" href="#bound-and-unbound-forms" title="Link to this heading">¶</a></h2>
<p><a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> のインスタンスには、データセットに <strong>バインドされている (bound な)</strong> ものと <strong>バインドされていない (unbound な)</strong> ものがあります。</p>
<ul class="simple">
<li><p>データセットに <strong>バインドされた</strong> <code class="docutils literal notranslate"><span class="pre">Form</span></code> インスタンスであれば、そのデータをバリデーションしたり、HTMLとしてフォームをレンダリングし、HTMLにデータを表示したりすることができます。</p></li>
<li><p>データセットに <strong>バインドされていない</strong> <code class="docutils literal notranslate"><span class="pre">Form</span></code> インスタンスでは、（検証するデータがないので）データをバリデーションすることはできませんが、空のフォームをHTMLとしてレンダリングできます。</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="django.forms.Form">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Form</span></span><a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/forms.py#L420"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.Form" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>バインドされていない <a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> のインスタンスを作成するには、クラスの初期化を行います。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
</pre></div>
</div>
<p>フォームにデータをバインドするには、辞書型のデータを <a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> クラスのコンストラクタの最初のパラメータとして渡します。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;hello&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hi there&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;sender&quot;</span><span class="p">:</span> <span class="s2">&quot;foo@example.com&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;cc_myself&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>この辞書では、キーは <a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> クラスの属性に対応するフィールド名を、値には検証したいデータを指定します。これらは通常文字列ですが、必ずしも文字列型でなくてもかまいません。後ほど解説しますが、渡すデータの型は、 <a class="reference internal" href="fields.html#django.forms.Field" title="django.forms.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">Field</span></code></a> に依存します。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.is_bound">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">is_bound</span></span><a class="headerlink" href="#django.forms.Form.is_bound" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>実行時にバインドされたフォームインスタンスと、されていないフォームインスタンスを区別する必要があるときは、フォームの <a class="reference internal" href="#django.forms.Form.is_bound" title="django.forms.Form.is_bound"><code class="xref py py-attr docutils literal notranslate"><span class="pre">is_bound</span></code></a> 属性の値を確認してください。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_bound</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">({</span><span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;hello&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_bound</span>
<span class="go">True</span>
</pre></div>
</div>
<p>空の辞書を渡すと、データが空の <em>バインドされた</em> フォームが作成されることに注意してください。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">({})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_bound</span>
<span class="go">True</span>
</pre></div>
</div>
<p><a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> インスタンス内のデータを変更する方法はありません。 一度作成された <a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> インスタンスのデータは、その有無に関わらず変更不可能であると考えてください。もし <a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> インスタンスにバインドされたデータを変更したい場合や、バインドされていない <a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> インスタンスをデータにバインドしたい場合は、別の <a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> インスタンスを作成してください。</p>
</section>
<section id="s-using-forms-to-validate-data">
<span id="using-forms-to-validate-data"></span><h2>フォームをデータの検証に使用する<a class="headerlink" href="#using-forms-to-validate-data" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.clean">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">clean</span></span>()<a class="headerlink" href="#django.forms.Form.clean" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>相互に関連のあるフィールドに対して独自のバリデーションを追加する必要がある場合、<code class="docutils literal notranslate"><span class="pre">Form</span></code> 上で <code class="docutils literal notranslate"><span class="pre">clean()</span></code> を実装してください。具体的な使用方法は <a class="reference internal" href="validation.html#validating-fields-with-clean"><span class="std std-ref">互いに依存するフィールドをクリーニングして検証する</span></a> を参照してください。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.is_valid">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">is_valid</span></span>()<a class="headerlink" href="#django.forms.Form.is_valid" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> オブジェクトの主なタスクは、データの検証です。バインドされた <a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> インスタンスでは、 <a class="reference internal" href="#django.forms.Form.is_valid" title="django.forms.Form.is_valid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_valid()</span></code></a> メソッドを呼び出して検証を実行し、データが有効であるかどうかを示すブール値を返します。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;hello&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hi there&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;sender&quot;</span><span class="p">:</span> <span class="s2">&quot;foo@example.com&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;cc_myself&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>まずは無効なデータで試してみましょう。以下のケースでは、 <code class="docutils literal notranslate"><span class="pre">subject</span></code> は空白で（デフォルトではすべてのフィールドが必須なのでエラーになります）、 <code class="docutils literal notranslate"><span class="pre">sender</span></code> が有効なメールアドレスではありません。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hi there&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;sender&quot;</span><span class="p">:</span> <span class="s2">&quot;invalid email address&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;cc_myself&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.errors">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">errors</span></span><a class="headerlink" href="#django.forms.Form.errors" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><a class="reference internal" href="#django.forms.Form.errors" title="django.forms.Form.errors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">errors</span></code></a> 属性にアクセスして、エラーメッセージの辞書を取得します。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">errors</span>
<span class="go">{&#39;sender&#39;: [&#39;Enter a valid email address.&#39;], &#39;subject&#39;: [&#39;This field is required.&#39;]}</span>
</pre></div>
</div>
<p>この辞書では、キーはフィールド名であり、値はエラーメッセージを表す文字列のリストです。エラーメッセージがリストに格納されているのは、1つのフィールドに複数のエラーメッセージが出力される場合があるからです。</p>
<p><a class="reference internal" href="#django.forms.Form.is_valid" title="django.forms.Form.is_valid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_valid()</span></code></a> を呼び出す前にも、 <a class="reference internal" href="#django.forms.Form.errors" title="django.forms.Form.errors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">errors</span></code></a> にアクセスできます。フォームのデータは、最初に <a class="reference internal" href="#django.forms.Form.is_valid" title="django.forms.Form.is_valid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_valid()</span></code></a> を呼び出すか、 <a class="reference internal" href="#django.forms.Form.errors" title="django.forms.Form.errors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">errors</span></code></a> にアクセスした時点で検証されます。</p>
<p>バリデーションのルーチンは、<a class="reference internal" href="#django.forms.Form.errors" title="django.forms.Form.errors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">errors</span></code></a> や call <a class="reference internal" href="#django.forms.Form.is_valid" title="django.forms.Form.is_valid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_valid()</span></code></a> を何度呼び出したとしても、最初の一度だけ呼び出されます。これは、バリデーションが副作用を持っている場合、その副作用は一度しか発生しないということを意味します。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.errors.as_data">
<span class="sig-prename descclassname"><span class="pre">Form.errors.</span></span><span class="sig-name descname"><span class="pre">as_data</span></span>()<a class="headerlink" href="#django.forms.Form.errors.as_data" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>フィールドとオリジナルの <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> インスタンスをマッピングする <code class="docutils literal notranslate"><span class="pre">dict</span></code> を返します。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">as_data</span><span class="p">()</span>
<span class="go">{&#39;sender&#39;: [ValidationError([&#39;Enter a valid email address.&#39;])],</span>
<span class="go">&#39;subject&#39;: [ValidationError([&#39;This field is required.&#39;])]}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">code</span></code> によりエラーを特定する必要があるときはこのメソッドを使用してください。これによって、エラーメッセージの上書きや、エラーが存在するときのビューでの独自のロジックが作成できるようになります。独自のフォーマット (たとえば XML) でシリアライズするためにも使えます。たとえば、<a class="reference internal" href="#django.forms.Form.errors.as_json" title="django.forms.Form.errors.as_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_json()</span></code></a> は <code class="docutils literal notranslate"><span class="pre">as_data()</span></code> を利用しています。</p>
<p><code class="docutils literal notranslate"><span class="pre">as_data()</span></code> の必要性は、後方互換性に起因します。以前は <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> インスタンスは <strong>レンダリングされた</strong> エラーメッセージが <code class="docutils literal notranslate"><span class="pre">Form.errors</span></code> ディクショナリに追加されると同時に消失していました。できれば <code class="docutils literal notranslate"><span class="pre">Form.errors</span></code> が <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> インスタンスを保持し、<code class="docutils literal notranslate"><span class="pre">as_</span></code> プレフィクスを伴うメソッドがエラーをレンダリングできるのが理想でしたが、<code class="docutils literal notranslate"><span class="pre">Form.errors</span></code> 内のレンダリングされたエラーメッセージを受け取る可能性があるコードを壊さないために、逆の実装にしなくてはなりませんでした。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.errors.as_json">
<span class="sig-prename descclassname"><span class="pre">Form.errors.</span></span><span class="sig-name descname"><span class="pre">as_json</span></span>(<em class="sig-param"><span class="n"><span class="pre">escape_html</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="headerlink" href="#django.forms.Form.errors.as_json" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>エラーをJSONとしてシリアライズしたものを返します。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">as_json</span><span class="p">()</span>
<span class="go">{&quot;sender&quot;: [{&quot;message&quot;: &quot;Enter a valid email address.&quot;, &quot;code&quot;: &quot;invalid&quot;}],</span>
<span class="go">&quot;subject&quot;: [{&quot;message&quot;: &quot;This field is required.&quot;, &quot;code&quot;: &quot;required&quot;}]}</span>
</pre></div>
</div>
<p>デフォルトでは、<code class="docutils literal notranslate"><span class="pre">as_json()</span></code> は出力をエスケープしません。フォームビューへのAJAXリクエストなど、クライアントがレスポンスを解釈しエラーをページに挿入する場合には、クロスサイトスクリプティング攻撃の可能性を避けるために、クライアント側で結果をエスケープする必要があります。これはJavaScriptで、 <code class="docutils literal notranslate"><span class="pre">element.textContent</span> <span class="pre">=</span> <span class="pre">errorText</span></code> 、またはjQueryの <code class="docutils literal notranslate"><span class="pre">$(el).text(errorText)</span></code> (<code class="docutils literal notranslate"><span class="pre">.html()</span></code> 関数ではなく) を使用することで実行できます。</p>
<p>何らかの理由でクライアントサイドのエスケープを使いたくない場合は、 <code class="docutils literal notranslate"><span class="pre">escape_html=True</span></code> を設定すればエラーメッセージがエスケープされ、HTMLで直接使用できるようになります。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.errors.get_json_data">
<span class="sig-prename descclassname"><span class="pre">Form.errors.</span></span><span class="sig-name descname"><span class="pre">get_json_data</span></span>(<em class="sig-param"><span class="n"><span class="pre">escape_html</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="headerlink" href="#django.forms.Form.errors.get_json_data" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>JSON にシリアライズできる形式のエラーを辞書として返します。 <a class="reference internal" href="#django.forms.Form.errors.as_json" title="django.forms.Form.errors.as_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Form.errors.as_json()</span></code></a> はシリアライズされた JSON を返しますが、これはシリアライズされる前のエラーデータを返します。</p>
<p><code class="docutils literal notranslate"><span class="pre">escape_html</span></code> パラメータは、 <a class="reference internal" href="#django.forms.Form.errors.as_json" title="django.forms.Form.errors.as_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Form.errors.as_json()</span></code></a> で説明されているように動作します。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.add_error">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">add_error</span></span>(<em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error</span></span></em>)<a class="headerlink" href="#django.forms.Form.add_error" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>このメソッドは、<code class="docutils literal notranslate"><span class="pre">Form.clean()</span></code> メソッド内またはフォーム全体の外部から特定のフィールドにエラーを追加することを可能にします。たとえば、ビューから追加することもできます。</p>
<p><code class="docutils literal notranslate"><span class="pre">field</span></code> 引数にはエラーを追加したいフィールド名を指定します。この値が <code class="docutils literal notranslate"><span class="pre">None</span></code> の場合、 <a class="reference internal" href="#django.forms.Form.non_field_errors" title="django.forms.Form.non_field_errors"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Form.non_field_errors()</span></code></a> によって返されるようなフィールドによらないエラーとして扱われます。</p>
<p>フォームエラーを定義するときのベストプラクティスとして、 <code class="docutils literal notranslate"><span class="pre">error</span></code> 引数は文字列もしくは、できれば <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> のインスタンスを指定します。フォームエラーの定義時のベストプラクティスについては、 <a class="reference internal" href="validation.html#raising-validation-error"><span class="std std-ref">ValidationError を発生させる</span></a> を参照してください。</p>
<p><code class="docutils literal notranslate"><span class="pre">Form.add_error()</span></code> は <code class="docutils literal notranslate"><span class="pre">cleaned_data</span></code> からフィールドを自動的に削除してしまうことに注意してください。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.has_error">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">has_error</span></span>(<em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#django.forms.Form.has_error" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>このメソッドは指定したフィールドが特定の <code class="docutils literal notranslate"><span class="pre">code</span></code> のエラーを持つか否かを真偽値で返します。<code class="docutils literal notranslate"><span class="pre">code</span></code> が <code class="docutils literal notranslate"><span class="pre">None</span></code> の場合、そのフィールドにエラーが一つもない場合に <code class="docutils literal notranslate"><span class="pre">True</span></code> を返します。</p>
<p>フィールドによらないエラー (non-field errors) の有無を確認したい場合は、<code class="docutils literal notranslate"><span class="pre">field</span></code> 引数に <a class="reference internal" href="../exceptions.html#django.core.exceptions.NON_FIELD_ERRORS" title="django.core.exceptions.NON_FIELD_ERRORS"><code class="xref py py-data docutils literal notranslate"><span class="pre">NON_FIELD_ERRORS</span></code></a> を渡します。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.non_field_errors">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">non_field_errors</span></span>()<a class="headerlink" href="#django.forms.Form.non_field_errors" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>このメソッドは、特定のフィールドに関連付けられていない <a class="reference internal" href="#django.forms.Form.errors" title="django.forms.Form.errors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.errors</span></code></a> からのエラーリストを返します。これには、<a class="reference internal" href="#django.forms.Form.clean" title="django.forms.Form.clean"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Form.clean()</span></code></a> で発生した <code class="docutils literal notranslate"><span class="pre">ValidationError</span></code> や、<a class="reference internal" href="#django.forms.Form.add_error" title="django.forms.Form.add_error"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Form.add_error(None,</span> <span class="pre">&quot;...&quot;)</span></code></a> を使用して追加されたエラーが含まれます。</p>
<section id="s-behavior-of-unbound-forms">
<span id="behavior-of-unbound-forms"></span><h3>バインドされていないフォームの動作<a class="headerlink" href="#behavior-of-unbound-forms" title="Link to this heading">¶</a></h3>
<p>フォームにデータがない場合、フォームの検証は意味をなしません。一応記載しておくと、バインドされていないフォームでは次のような結果になります。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">errors</span>
<span class="go">{}</span>
</pre></div>
</div>
</section>
</section>
<section id="s-initial-form-values">
<span id="s-ref-forms-initial-form-values"></span><span id="initial-form-values"></span><span id="ref-forms-initial-form-values"></span><h2>フォームの初期値<a class="headerlink" href="#initial-form-values" title="Link to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.initial">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">initial</span></span><a class="headerlink" href="#django.forms.Form.initial" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><a class="reference internal" href="#django.forms.Form.initial" title="django.forms.Form.initial"><code class="xref py py-attr docutils literal notranslate"><span class="pre">initial</span></code></a> を使うことで、実行時にフォームの初期値を設定できます。たとえば、 <code class="docutils literal notranslate"><span class="pre">username</span></code> フォームを埋めるのに、現在のセッションの username を使うことができます。</p>
<p>これを実現するには、 <a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> の初期化時に <a class="reference internal" href="#django.forms.Form.initial" title="django.forms.Form.initial"><code class="xref py py-attr docutils literal notranslate"><span class="pre">initial</span></code></a> 引数を使用します。この引数には、フィールド名と初期値のマッピングした辞書を指定します。初期値を指定するフィールドだけを含めればよく、フォーム内のすべてのフィールドを含める必要はありません。以下に例を示します。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;Hi there!&quot;</span><span class="p">})</span>
</pre></div>
</div>
<p>これらの値はバインドされていないフォームに表示されるだけです。値が入力されなかった場合の、フォールバックされる値として使われることはありません。</p>
<p><a class="reference internal" href="fields.html#django.forms.Field" title="django.forms.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">Field</span></code></a> において <a class="reference internal" href="fields.html#django.forms.Field.initial" title="django.forms.Field.initial"><code class="xref py py-class docutils literal notranslate"><span class="pre">initial</span></code></a> を定義 <em>した上で</em> <code class="docutils literal notranslate"><span class="pre">Form</span></code> をインスタンス化するときに <a class="reference internal" href="#django.forms.Form.initial" title="django.forms.Form.initial"><code class="xref py py-attr docutils literal notranslate"><span class="pre">initial</span></code></a> を指定した場合、後者の <code class="docutils literal notranslate"><span class="pre">initial</span></code> が優先されます。以下の例では、フィールドレベルとフォームインスタンスレベルの両方で <code class="docutils literal notranslate"><span class="pre">initial</span></code> が提供され、後者が優先されます。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">django</span><span class="w"> </span><span class="kn">import</span> <span class="n">forms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">CommentForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">url</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">URLField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">comment</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">CommentForm</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;instance&quot;</span><span class="p">},</span> <span class="n">auto_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;div&gt;Name:&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;instance&quot; required&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;Url:&lt;input type=&quot;url&quot; name=&quot;url&quot; required&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;Comment:&lt;input type=&quot;text&quot; name=&quot;comment&quot; required&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.get_initial_for_field">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">get_initial_for_field</span></span>(<em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_name</span></span></em>)<a class="headerlink" href="#django.forms.Form.get_initial_for_field" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>フォームフィールドの初期データを返します。データは、存在する場合は <a class="reference internal" href="#django.forms.Form.initial" title="django.forms.Form.initial"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.initial</span></code></a> から取得し、それ以外の場合は <a class="reference internal" href="fields.html#django.forms.Field.initial" title="django.forms.Field.initial"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Field.initial</span></code></a> を参照します。呼び出し可能な値は評価されます。</p>
<p><code class="docutils literal notranslate"><span class="pre">BoundField.initial</span></code> はよりシンプルなインターフェースを持っているため、<a class="reference internal" href="#django.forms.Form.get_initial_for_field" title="django.forms.Form.get_initial_for_field"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_initial_for_field()</span></code></a> よりも <a class="reference internal" href="#django.forms.BoundField.initial" title="django.forms.BoundField.initial"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BoundField.initial</span></code></a> の使用が推奨されます。また、<a class="reference internal" href="#django.forms.Form.get_initial_for_field" title="django.forms.Form.get_initial_for_field"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_initial_for_field()</span></code></a> とは異なり、<a class="reference internal" href="#django.forms.BoundField.initial" title="django.forms.BoundField.initial"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BoundField.initial</span></code></a> はその値をキャッシュします。これは、戻り値が変わる可能性がある呼び出し可能オブジェクト (例: <code class="docutils literal notranslate"><span class="pre">datetime.now</span></code> や <code class="docutils literal notranslate"><span class="pre">uuid.uuid4</span></code>) を扱う場合に特に便利です。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">uuid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">UUIDCommentForm</span><span class="p">(</span><span class="n">CommentForm</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">identifier</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">UUIDField</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">UUIDCommentForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">get_initial_for_field</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="s2">&quot;identifier&quot;</span><span class="p">],</span> <span class="s2">&quot;identifier&quot;</span><span class="p">)</span>
<span class="go">UUID(&#39;972ca9e4-7bfe-4f5b-af7d-07b3aa306334&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">get_initial_for_field</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="s2">&quot;identifier&quot;</span><span class="p">],</span> <span class="s2">&quot;identifier&quot;</span><span class="p">)</span>
<span class="go">UUID(&#39;1b411fab-844e-4dec-bd4f-e9b0495f04d0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Using BoundField.initial, for comparison</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;identifier&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">initial</span>
<span class="go">UUID(&#39;28a09c59-5f00-4ed9-9179-a3b074fa9c30&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;identifier&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">initial</span>
<span class="go">UUID(&#39;28a09c59-5f00-4ed9-9179-a3b074fa9c30&#39;)</span>
</pre></div>
</div>
</section>
<section id="s-checking-which-form-data-has-changed">
<span id="checking-which-form-data-has-changed"></span><h2>どのフォームデータが変更されたかをチェックする<a class="headerlink" href="#checking-which-form-data-has-changed" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.has_changed">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">has_changed</span></span>()<a class="headerlink" href="#django.forms.Form.has_changed" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>フォームデータが初期値から変更されたかどうかをチェックしたい場合は、 <code class="docutils literal notranslate"><span class="pre">has_changed()</span></code> メソッドを使います。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;hello&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hi there&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;sender&quot;</span><span class="p">:</span> <span class="s2">&quot;foo@example.com&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;cc_myself&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">has_changed</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>フォームが送信された場合、比較ができるようにフォームを再構築して元のデータを提供します:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">has_changed</span><span class="p">()</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">has_changed()</span></code> は、 <code class="docutils literal notranslate"><span class="pre">request.POST</span></code> が <a class="reference internal" href="#django.forms.Form.initial" title="django.forms.Form.initial"><code class="xref py py-attr docutils literal notranslate"><span class="pre">initial</span></code></a> で提供されたデータと異なる場合、 <code class="docutils literal notranslate"><span class="pre">True</span></code> を返し、同じであれば <code class="docutils literal notranslate"><span class="pre">False</span></code> を返します。この結果は、それぞれのフィールドで <a class="reference internal" href="fields.html#django.forms.Field.has_changed" title="django.forms.Field.has_changed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Field.has_changed()</span></code></a> を呼ぶことで計算されます。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.changed_data">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">changed_data</span></span><a class="headerlink" href="#django.forms.Form.changed_data" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">changed_data</span></code> 属性は、フォームにバインドされたデータ (ふつうは <code class="docutils literal notranslate"><span class="pre">request.POST</span></code>) の値が <a class="reference internal" href="#django.forms.Form.initial" title="django.forms.Form.initial"><code class="xref py py-attr docutils literal notranslate"><span class="pre">initial</span></code></a> で提供されたものと異なるとき、そのフィールド名のリストを返します。データが変更されていない場合は、空のリストを返します。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">has_changed</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The following fields changed: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">changed_data</span><span class="p">))</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">changed_data</span>
<span class="go">[&#39;subject&#39;, &#39;message&#39;]</span>
</pre></div>
</div>
</section>
<section id="s-accessing-the-fields-from-the-form">
<span id="accessing-the-fields-from-the-form"></span><h2>フォームからフィールドにアクセスする<a class="headerlink" href="#accessing-the-fields-from-the-form" title="Link to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.fields">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">fields</span></span><a class="headerlink" href="#django.forms.Form.fields" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> インスタンスのフィールドには、その <code class="docutils literal notranslate"><span class="pre">fields</span></code> 属性からアクセスできます。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">&lt;django.forms.fields.CharField object at 0x7ffaac632510&gt;</span>
<span class="go">&lt;django.forms.fields.URLField object at 0x7ffaac632f90&gt;</span>
<span class="go">&lt;django.forms.fields.CharField object at 0x7ffaac3aa050&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">fields</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
<span class="go">&lt;django.forms.fields.CharField object at 0x7ffaac6324d0&gt;</span>
</pre></div>
</div>
<p>フィールドと <a class="reference internal" href="#django.forms.BoundField" title="django.forms.BoundField"><code class="xref py py-class docutils literal notranslate"><span class="pre">BoundField</span></code></a> 、 <a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> インスタンスを変更することで、フォーム内でのフィールドの表示方法を変更できます。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">as_div</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&lt;/div&gt;&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;&lt;div&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required id=&quot;id_subject&quot;&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Topic&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">as_div</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&lt;/div&gt;&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;&lt;div&gt;&lt;label for=&quot;id_subject&quot;&gt;Topic:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required id=&quot;id_subject&quot;&gt;&#39;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">base_fields</span></code> 属性を変更しないように注意してください。この変更は、同じPythonプロセス内のすべての後続の <code class="docutils literal notranslate"><span class="pre">ContactForm</span></code> インスタンスに影響を与えます。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">base_fields</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">label_suffix</span> <span class="o">=</span> <span class="s2">&quot;?&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">another_f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">another_f</span><span class="o">.</span><span class="n">as_div</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&lt;/div&gt;&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;&lt;div&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject?&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required id=&quot;id_subject&quot;&gt;&#39;</span>
</pre></div>
</div>
</section>
<section id="s-accessing-clean-data">
<span id="accessing-clean-data"></span><h2>&quot;clean&quot; なデータにアクセスする<a class="headerlink" href="#accessing-clean-data" title="Link to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.cleaned_data">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">cleaned_data</span></span><a class="headerlink" href="#django.forms.Form.cleaned_data" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> クラスの各フィールドは、データの検証だけでなく、それを「クリーニング」する – すなわち、データを一貫した形式に正規化する役割も担っています。これは素晴らしい機能で、各フィールドにおいて、様々な形式で入力されるデータから、常に整合性のある出力を得ることができます。</p>
<p>たとえば、 <a class="reference internal" href="fields.html#django.forms.DateField" title="django.forms.DateField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateField</span></code></a> はインプットを Python の <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code> オブジェクトに正規化します。たとえ <code class="docutils literal notranslate"><span class="pre">'1994-07-15'</span></code> という形式の文字列で渡そうが、 <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code> オブジェクトを渡そうが、他の様々な形式で渡そうが、それが検証にパスする限り <code class="docutils literal notranslate"><span class="pre">DateField</span></code> はいつも <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code> オブジェクトに正規化します。</p>
<p><a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> インスタンスを作成し、データをセットして検証した後は、<code class="docutils literal notranslate"><span class="pre">cleaned_data</span></code> 属性を介してクリーンなデータにアクセスできます。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;hello&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hi there&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;sender&quot;</span><span class="p">:</span> <span class="s2">&quot;foo@example.com&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;cc_myself&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">cleaned_data</span>
<span class="go">{&#39;cc_myself&#39;: True, &#39;message&#39;: &#39;Hi there&#39;, &#39;sender&#39;: &#39;foo@example.com&#39;, &#39;subject&#39;: &#39;hello&#39;}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">CharField</span></code> や <code class="docutils literal notranslate"><span class="pre">EmailField</span></code> といったテキストベースのフィールドは、入力を文字列に正規化します。暗黙的な文字エンコードの動作については、後のドキュメントでカバーします。</p>
<p>もしデータが検証に合格 <em>しなかった</em> 場合、 <code class="docutils literal notranslate"><span class="pre">cleaned_data</span></code> の辞書には有効なフィールドのみが含まれます。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hi there&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;sender&quot;</span><span class="p">:</span> <span class="s2">&quot;invalid email address&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;cc_myself&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">cleaned_data</span>
<span class="go">{&#39;cc_myself&#39;: True, &#39;message&#39;: &#39;Hi there&#39;}</span>
</pre></div>
</div>
<p>たとえ <code class="docutils literal notranslate"><span class="pre">Form</span></code> を定義する際に追加のデータを渡しても、 <code class="docutils literal notranslate"><span class="pre">cleaned_data</span></code> には <code class="docutils literal notranslate"><span class="pre">Form</span></code> で定義されたフィールドのキー <em>のみ</em> が含まれます。この例では <code class="docutils literal notranslate"><span class="pre">ContactForm</span></code> のコンストラクタに追加のフィールドを渡していますが、 <code class="docutils literal notranslate"><span class="pre">cleaned_data</span></code> にはフォームのフィールドのみが含まれます。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;hello&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hi there&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;sender&quot;</span><span class="p">:</span> <span class="s2">&quot;foo@example.com&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;cc_myself&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;extra_field_1&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;extra_field_2&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;extra_field_3&quot;</span><span class="p">:</span> <span class="s2">&quot;baz&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">cleaned_data</span>  <span class="c1"># Doesn&#39;t contain extra_field_1, etc.</span>
<span class="go">{&#39;cc_myself&#39;: True, &#39;message&#39;: &#39;Hi there&#39;, &#39;sender&#39;: &#39;foo@example.com&#39;, &#39;subject&#39;: &#39;hello&#39;}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Form</span></code> の検証に合格した場合、 任意入力のフィールドのデータが一部含まれていなかったとしても、 <em>すべての</em> フィールドのキーと値が含まれています。この例では、渡したデータに <code class="docutils literal notranslate"><span class="pre">nick_name</span></code> フィールドの値は含まれていませんが、 <code class="docutils literal notranslate"><span class="pre">cleaned_data</span></code> には空の値が含まれています。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">django</span><span class="w"> </span><span class="kn">import</span> <span class="n">forms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">OptionalPersonForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">first_name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">last_name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">nick_name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;first_name&quot;</span><span class="p">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Lennon&quot;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">OptionalPersonForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_valid</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">cleaned_data</span>
<span class="go">{&#39;nick_name&#39;: &#39;&#39;, &#39;first_name&#39;: &#39;John&#39;, &#39;last_name&#39;: &#39;Lennon&#39;}</span>
</pre></div>
</div>
<p>上の例では、 <code class="docutils literal notranslate"><span class="pre">cleaned_data</span></code> 中の <code class="docutils literal notranslate"><span class="pre">nick_name</span></code> の値には空の文字列がセットされています。これは、 <code class="docutils literal notranslate"><span class="pre">nick_name</span></code> が <code class="docutils literal notranslate"><span class="pre">CharField</span></code> であり、 <code class="docutils literal notranslate"><span class="pre">CharField</span></code> は空の値を空の文字列として扱うからです。それぞれのフィールドタイプは、それぞれの <code class="docutils literal notranslate"><span class="pre">空の</span></code> 値が何であるか知っています -- たとえば、 <code class="docutils literal notranslate"><span class="pre">DateField</span></code> では空の文字列の代わりに <code class="docutils literal notranslate"><span class="pre">None</span></code> です。それぞれのフィールドの挙動の完全な詳細は、あとの &quot;Built-in <code class="docutils literal notranslate"><span class="pre">Field</span></code> classes&quot; セクションにある &quot;Empty value&quot; ノートを見てください。</p>
<p>特定のいくつかの (フォーム名に基づく) フォームフィールドまたは (さまざまなフィールドの組み合わせを考えて) フォーム全体に対してのバリデーションを行うコードを書くこともできます。これについての詳細は、 <a class="reference internal" href="validation.html"><span class="doc">フォームとフィールドのバリデーション</span></a> を見てください。</p>
</section>
<section id="s-outputting-forms-as-html">
<span id="s-ref-forms-api-outputting-html"></span><span id="outputting-forms-as-html"></span><span id="ref-forms-api-outputting-html"></span><h2>フォームをHTMLとしてアウトプットする<a class="headerlink" href="#outputting-forms-as-html" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Form</span></code> オブジェクトの2番目のタスクは、自身をHTMLとしてレンダリングすることです。それを行うには <code class="docutils literal notranslate"><span class="pre">print</span></code> します。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required id=&quot;id_subject&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;message&quot; required id=&quot;id_message&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;/label&gt;&lt;input type=&quot;email&quot; name=&quot;sender&quot; required id=&quot;id_sender&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot;&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p>フォームがデータにバインドされている場合、HTMLの出力にはそのデータが適切に含まれます。たとえば、フィールドが <code class="docutils literal notranslate"><span class="pre">&lt;input</span> <span class="pre">type=&quot;text&quot;&gt;</span></code> で表される場合、データは <code class="docutils literal notranslate"><span class="pre">value</span></code> 属性に含まれます。フィールドが <code class="docutils literal notranslate"><span class="pre">&lt;input</span> <span class="pre">type=&quot;checkbox&quot;&gt;</span></code> で表される場合、HTMLには必要に応じて <code class="docutils literal notranslate"><span class="pre">checked</span></code> が含まれます。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;hello&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hi there&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;sender&quot;</span><span class="p">:</span> <span class="s2">&quot;foo@example.com&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;cc_myself&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;subject&quot; value=&quot;hello&quot; maxlength=&quot;100&quot; required id=&quot;id_subject&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;message&quot; value=&quot;Hi there&quot; required id=&quot;id_message&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;/label&gt;&lt;input type=&quot;email&quot; name=&quot;sender&quot; value=&quot;foo@example.com&quot; required id=&quot;id_sender&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot; checked&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p>このデフォルトの出力は、各フィールドを <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> で囲みます。以下の点に注意してください。</p>
<ul class="simple">
<li><p>柔軟性のために、出力には <code class="docutils literal notranslate"><span class="pre">&lt;form&gt;</span></code> と <code class="docutils literal notranslate"><span class="pre">&lt;/form&gt;</span></code> のタグや <code class="docutils literal notranslate"><span class="pre">&lt;input</span> <span class="pre">type=&quot;submit&quot;&gt;</span></code> のタグは含まれていません。これらは各自で追加するようにしてください。</p></li>
<li><p>それぞれのフィールドタイプはデフォルトの HTML 表現を持っています。 <code class="docutils literal notranslate"><span class="pre">CharField</span></code> は <code class="docutils literal notranslate"><span class="pre">&lt;input</span> <span class="pre">type=&quot;text&quot;&gt;</span></code> で、 <code class="docutils literal notranslate"><span class="pre">EmailField</span></code> は <code class="docutils literal notranslate"><span class="pre">&lt;input</span> <span class="pre">type=&quot;email&quot;&gt;</span></code> で表現され、<code class="docutils literal notranslate"><span class="pre">BooleanField(null=False)</span></code> は <code class="docutils literal notranslate"><span class="pre">&lt;input</span> <span class="pre">type=&quot;checkbox&quot;&gt;</span></code> で表現されます。これらは単なる実用的なデフォルトであり、あるフィールドにどの HTML を使うかは、すぐ後で説明するウィジェットを使って指定できます。</p></li>
<li><p>HTML のそれぞれのタグの <code class="docutils literal notranslate"><span class="pre">name</span></code> は、 <code class="docutils literal notranslate"><span class="pre">ContactForm</span></code> クラスの属性名から直接とられます。</p></li>
<li><p>それぞれのフィールドのテキストラベル、たとえば <code class="docutils literal notranslate"><span class="pre">'Subject:'</span></code>, <code class="docutils literal notranslate"><span class="pre">'Message:'</span></code> , <code class="docutils literal notranslate"><span class="pre">'Cc</span> <span class="pre">myself:'</span></code> は、フィールド名のアンダースコアをスペースに変換し、頭文字を大文字に変換して生成されます。これらもまた単なる実用的なデフォルトです; 手動でラベルを指定することもできます。</p></li>
<li><p>それぞれのテキストラベルは HTML <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> タグで囲まれており、 <code class="docutils literal notranslate"><span class="pre">id</span></code> を通して適切なフォームフィールドを指しています。<code class="docutils literal notranslate"><span class="pre">id</span></code> は、フィールド名に <code class="docutils literal notranslate"><span class="pre">'id_'</span></code> を前置することで生成されます。<code class="docutils literal notranslate"><span class="pre">id</span></code> 属性と <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> タグは、ベストプラクティスに従ってデフォルトでアウトプットにインクルードされますが、この挙動も変更できます。</p></li>
<li><p>出力はHTML5の構文を使用し、 <code class="docutils literal notranslate"><span class="pre">&lt;!DOCTYPE</span> <span class="pre">html&gt;</span></code> をターゲットにしています。例えば、 <code class="docutils literal notranslate"><span class="pre">checked='checked'</span></code> のXHTMLスタイルではなく <code class="docutils literal notranslate"><span class="pre">checked</span></code> のようなブール属性を使用します。</p></li>
</ul>
<p>フォームを <code class="docutils literal notranslate"><span class="pre">print</span></code> するときは <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> がデフォルトの出力スタイルですが、独自のフォームテンプレートを使用して、出力をカスタマイズできます。このテンプレートは、サイト全体、フォームごと、またはインスタンスごとに設定できます。詳細は、 <a class="reference internal" href="../../topics/forms/index.html#reusable-form-templates"><span class="std std-ref">再利用可能なフォームテンプレート</span></a> を参照してください。</p>
<section id="s-default-rendering">
<span id="default-rendering"></span><h3>デフォルトのレンダリング<a class="headerlink" href="#default-rendering" title="Link to this heading">¶</a></h3>
<p>フォームを <code class="docutils literal notranslate"><span class="pre">print</span></code> するときのデフォルトのレンダリングでは、次のメソッドと属性が使用されます。</p>
<section id="s-template-name">
<span id="template-name"></span><h4><code class="docutils literal notranslate"><span class="pre">template_name</span></code><a class="headerlink" href="#template-name" title="Link to this heading">¶</a></h4>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.template_name">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">template_name</span></span><a class="headerlink" href="#django.forms.Form.template_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>フォームを文字列に変換するときにレンダリングされるテンプレートの名前です。例えば、 <code class="docutils literal notranslate"><span class="pre">print(form)</span></code> やテンプレート内の <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">form</span> <span class="pre">}}</span></code> などで使用されます。</p>
<p>デフォルトでは、レンダラーの <a class="reference internal" href="renderers.html#django.forms.renderers.BaseRenderer.form_template_name" title="django.forms.renderers.BaseRenderer.form_template_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">form_template_name</span></code></a> の値を返すプロパティです。特定のフォームクラスに対してそれを上書きするために、文字列型のテンプレート名として設定できます。</p>
</section>
<section id="s-render">
<span id="render"></span><h4><code class="docutils literal notranslate"><span class="pre">render()</span></code><a class="headerlink" href="#render" title="Link to this heading">¶</a></h4>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.render">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">render</span></span>(<em class="sig-param"><span class="n"><span class="pre">template_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renderer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#django.forms.Form.render" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>renderメソッドは、 <code class="docutils literal notranslate"><span class="pre">__str__</span></code> だけでなく、 <a class="reference internal" href="#django.forms.Form.as_div" title="django.forms.Form.as_div"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Form.as_div()</span></code></a> 、 <a class="reference internal" href="#django.forms.Form.as_table" title="django.forms.Form.as_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Form.as_table()</span></code></a> 、 <a class="reference internal" href="#django.forms.Form.as_p" title="django.forms.Form.as_p"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Form.as_p()</span></code></a> 、および <a class="reference internal" href="#django.forms.Form.as_ul" title="django.forms.Form.as_ul"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Form.as_ul()</span></code></a> メソッドによって呼び出されます。すべての引数はオプションであり、デフォルトは次のとおりです。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">template_name</span></code>: <a class="reference internal" href="#django.forms.Form.template_name" title="django.forms.Form.template_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.template_name</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">context</span></code>: <a class="reference internal" href="#django.forms.Form.get_context" title="django.forms.Form.get_context"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Form.get_context()</span></code></a> が返す値</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">renderer</span></code>: <a class="reference internal" href="#django.forms.Form.default_renderer" title="django.forms.Form.default_renderer"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.default_renderer</span></code></a> が返す値</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">template_name</span></code> を渡すことで、単一の呼び出しに使用されるテンプレートをカスタマイズできます。</p>
</section>
<section id="s-get-context">
<span id="get-context"></span><h4><code class="docutils literal notranslate"><span class="pre">get_context()</span></code><a class="headerlink" href="#get-context" title="Link to this heading">¶</a></h4>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.get_context">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">get_context</span></span>()<a class="headerlink" href="#django.forms.Form.get_context" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>テンプレートをレンダリングするためのコンテキストを返します。</p>
<p>利用可能なコンテキストは次のとおりです。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">form</span></code>: バインドされたフォーム。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fields</span></code>: 隠されたフィールドを除く、すべてのバインドされたフィールド。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hidden_fields</span></code>: すべての隠されたバインドフィールド。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">errors</span></code>: フォームの非フィールド関連または非表示フィールド関連の全エラー。</p></li>
</ul>
</section>
<section id="s-template-name-label">
<span id="template-name-label"></span><h4><code class="docutils literal notranslate"><span class="pre">template_name_label</span></code><a class="headerlink" href="#template-name-label" title="Link to this heading">¶</a></h4>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.template_name_label">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">template_name_label</span></span><a class="headerlink" href="#django.forms.Form.template_name_label" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>テンプレートは、 <a class="reference internal" href="#django.forms.BoundField.label_tag" title="django.forms.BoundField.label_tag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">BoundField.label_tag()</span></code></a>/<a class="reference internal" href="#django.forms.BoundField.legend_tag" title="django.forms.BoundField.legend_tag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">legend_tag()</span></code></a> を呼び出す際に使用されるフィールドの <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> をレンダリングするために使用されます。この属性をオーバーライドするか、デフォルトのテンプレートをオーバーライドすることで、フォームごとに変更できます。詳細については、 <a class="reference internal" href="renderers.html#overriding-built-in-form-templates"><span class="std std-ref">組み込みのフォームテンプレートをオーバーライドする</span></a> も参照してください。</p>
</section>
</section>
<section id="s-output-styles">
<span id="output-styles"></span><h3>出力スタイル<a class="headerlink" href="#output-styles" title="Link to this heading">¶</a></h3>
<p>フォームの出力スタイルを変更する推奨されるアプローチは、サイト全体、フォームごと、またはインスタンスごとにカスタムフォームテンプレートを設定することです。例については、 <a class="reference internal" href="../../topics/forms/index.html#reusable-form-templates"><span class="std std-ref">再利用可能なフォームテンプレート</span></a> を参照してください。</p>
<p>以下のヘルパー関数は後方互換性のために提供され、特定の <code class="docutils literal notranslate"><span class="pre">template_name</span></code> 値を渡す <a class="reference internal" href="#django.forms.Form.render" title="django.forms.Form.render"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Form.render()</span></code></a> へのプロキシです。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>フレームワークが提供するテンプレートと出力スタイルのうち、デフォルトの <code class="docutils literal notranslate"><span class="pre">as_div()</span></code> は <code class="docutils literal notranslate"><span class="pre">as_p()</span></code>, <code class="docutils literal notranslate"><span class="pre">as_table()</span></code>, <code class="docutils literal notranslate"><span class="pre">as_ul()</span></code> バージョンよりも推奨されます。なぜなら、このテンプレートは <code class="docutils literal notranslate"><span class="pre">&lt;fieldset&gt;</span></code> と <code class="docutils literal notranslate"><span class="pre">&lt;legend&gt;</span></code> を実装しており、関連する入力をグループ化し、スクリーンリーダーユーザがナビゲートしやすいからです。</p>
</div>
<p>各ヘルパーは、適切なテンプレート名を指定する属性とフォームメソッドをペアにします。</p>
<section id="s-as-div">
<span id="as-div"></span><h4><code class="docutils literal notranslate"><span class="pre">as_div()</span></code><a class="headerlink" href="#as-div" title="Link to this heading">¶</a></h4>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.template_name_div">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">template_name_div</span></span><a class="headerlink" href="#django.forms.Form.template_name_div" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">as_div()</span></code> に使用されるテンプレート。デフォルト: <code class="docutils literal notranslate"><span class="pre">'django/forms/div.html'</span></code>。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.as_div">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">as_div</span></span>()<a class="headerlink" href="#django.forms.Form.as_div" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">as_div()</span></code> はフォームを一連の <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> 要素としてレンダリングし、各 <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> には以下のように一つのフィールドを含みます</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">as_div</span><span class="p">()</span>
</pre></div>
</div>
<p>… これは次のようなHTMLを生成します:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;id_subject&quot;</span><span class="p">&gt;</span>Subject:<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;subject&quot;</span> <span class="na">maxlength</span><span class="o">=</span><span class="s">&quot;100&quot;</span> <span class="na">required</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;id_subject&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;id_message&quot;</span><span class="p">&gt;</span>Message:<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;message&quot;</span> <span class="na">required</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;id_message&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;id_sender&quot;</span><span class="p">&gt;</span>Sender:<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;email&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;sender&quot;</span> <span class="na">required</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;id_sender&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;id_cc_myself&quot;</span><span class="p">&gt;</span>Cc myself:<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;cc_myself&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;id_cc_myself&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="s-as-p">
<span id="as-p"></span><h4><code class="docutils literal notranslate"><span class="pre">as_p()</span></code><a class="headerlink" href="#as-p" title="Link to this heading">¶</a></h4>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.template_name_p">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">template_name_p</span></span><a class="headerlink" href="#django.forms.Form.template_name_p" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">as_p()</span></code> に使われるテンプレート。デフォルト: <code class="docutils literal notranslate"><span class="pre">'django/forms/p.html'</span></code> 。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.as_p">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">as_p</span></span>()<a class="headerlink" href="#django.forms.Form.as_p" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">as_p()</span></code> は、フォームを一連の <code class="docutils literal notranslate"><span class="pre">&lt;p&gt;</span></code> タグとしてレンダリングし、各 <code class="docutils literal notranslate"><span class="pre">&lt;p&gt;</span></code> は1つのフィールドを含みます。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">as_p</span><span class="p">()</span>
<span class="go">&#39;&lt;p&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt; &lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required&gt;&lt;/p&gt;\n&lt;p&gt;&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; required&gt;&lt;/p&gt;\n&lt;p&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; required&gt;&lt;/p&gt;\n&lt;p&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot;&gt;&lt;/p&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">as_p</span><span class="p">())</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt; &lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; required&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;/label&gt; &lt;input type=&quot;email&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; required&gt;&lt;/p&gt;</span>
<span class="go">&lt;p&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot;&gt;&lt;/p&gt;</span>
</pre></div>
</div>
</section>
<section id="s-as-ul">
<span id="as-ul"></span><h4><code class="docutils literal notranslate"><span class="pre">as_ul()</span></code><a class="headerlink" href="#as-ul" title="Link to this heading">¶</a></h4>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.template_name_ul">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">template_name_ul</span></span><a class="headerlink" href="#django.forms.Form.template_name_ul" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">as_ul()</span></code> によって使用されるテンプレート。デフォルト: <code class="docutils literal notranslate"><span class="pre">'django/forms/ul.html'</span></code> 。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.as_ul">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">as_ul</span></span>()<a class="headerlink" href="#django.forms.Form.as_ul" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">as_ul()</span></code> は、フォームを一連の <code class="docutils literal notranslate"><span class="pre">&lt;li&gt;</span></code> タグとしてレンダリングし、各 <code class="docutils literal notranslate"><span class="pre">&lt;li&gt;</span></code> には一つのフィールドが含まれます。柔軟性のために、<code class="docutils literal notranslate"><span class="pre">&lt;ul&gt;</span></code> に任意のHTML属性を指定できるように、 <code class="docutils literal notranslate"><span class="pre">&lt;ul&gt;</span></code> や <code class="docutils literal notranslate"><span class="pre">&lt;/ul&gt;</span></code> は含まれ <em>ません</em> 。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">as_ul</span><span class="p">()</span>
<span class="go">&#39;&lt;li&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt; &lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required&gt;&lt;/li&gt;\n&lt;li&gt;&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; required&gt;&lt;/li&gt;\n&lt;li&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;/label&gt; &lt;input type=&quot;email&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; required&gt;&lt;/li&gt;\n&lt;li&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot;&gt;&lt;/li&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">as_ul</span><span class="p">())</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt; &lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; required&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;/label&gt; &lt;input type=&quot;email&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; required&gt;&lt;/li&gt;</span>
<span class="go">&lt;li&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot;&gt;&lt;/li&gt;</span>
</pre></div>
</div>
</section>
<section id="s-as-table">
<span id="as-table"></span><h4><code class="docutils literal notranslate"><span class="pre">as_table()</span></code><a class="headerlink" href="#as-table" title="Link to this heading">¶</a></h4>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.template_name_table">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">template_name_table</span></span><a class="headerlink" href="#django.forms.Form.template_name_table" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">as_table()</span></code> によって使用されるテンプレート。デフォルト: <code class="docutils literal notranslate"><span class="pre">'django/forms/table.html'</span></code> 。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.as_table">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">as_table</span></span>()<a class="headerlink" href="#django.forms.Form.as_table" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">as_table()</span></code> はフォームを HTML の <code class="docutils literal notranslate"><span class="pre">&lt;table&gt;</span></code> としてレンダリングします:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">as_table</span><span class="p">()</span>
<span class="go">&#39;&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; required&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;email&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; required&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">as_table</span><span class="p">())</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; required&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;email&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; required&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="go">&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot;&gt;&lt;/td&gt;&lt;/tr&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="s-styling-required-or-erroneous-form-rows">
<span id="s-ref-forms-api-styling-form-rows"></span><span id="styling-required-or-erroneous-form-rows"></span><span id="ref-forms-api-styling-form-rows"></span><h3>必須フォームとエラーのあるフォームのスタイリング<a class="headerlink" href="#styling-required-or-erroneous-form-rows" title="Link to this heading">¶</a></h3>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.error_css_class">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">error_css_class</span></span><a class="headerlink" href="#django.forms.Form.error_css_class" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.required_css_class">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">required_css_class</span></span><a class="headerlink" href="#django.forms.Form.required_css_class" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>必須フォームやエラーのあるフォームの行を装飾するのはとても一般的です。たとえば、必須フォームの行は太字にしたり、エラーであれば赤色にしたくなることもあるでしょう。</p>
<p><a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> クラスには、必須フォームやエラーのあるフォームに <code class="docutils literal notranslate"><span class="pre">class</span></code> 属性を追加するためのいくつかのフックを用意しています。具体的には、 <a class="reference internal" href="#django.forms.Form.error_css_class" title="django.forms.Form.error_css_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.error_css_class</span></code></a> 属性や <a class="reference internal" href="#django.forms.Form.required_css_class" title="django.forms.Form.required_css_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.required_css_class</span></code></a> 属性をセットします:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django</span><span class="w"> </span><span class="kn">import</span> <span class="n">forms</span>


<span class="k">class</span><span class="w"> </span><span class="nc">ContactForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
    <span class="n">error_css_class</span> <span class="o">=</span> <span class="s2">&quot;error&quot;</span>
    <span class="n">required_css_class</span> <span class="o">=</span> <span class="s2">&quot;required&quot;</span>

    <span class="c1"># ... and the rest of your fields here</span>
</pre></div>
</div>
<p>それを行ったら、必要に応じて行には <code class="docutils literal notranslate"><span class="pre">&quot;error&quot;</span></code> および/または <code class="docutils literal notranslate"><span class="pre">&quot;required&quot;</span></code> のクラスが与えられます。HTMLは以下のようになるでしょう:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;div class=&quot;required&quot;&gt;&lt;label for=&quot;id_subject&quot; class=&quot;required&quot;&gt;Subject:&lt;/label&gt; ...</span>
<span class="go">&lt;div class=&quot;required&quot;&gt;&lt;label for=&quot;id_message&quot; class=&quot;required&quot;&gt;Message:&lt;/label&gt; ...</span>
<span class="go">&lt;div class=&quot;required&quot;&gt;&lt;label for=&quot;id_sender&quot; class=&quot;required&quot;&gt;Sender:&lt;/label&gt; ...</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_cc_myself&quot;&gt;Cc myself:&lt;/label&gt; ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">label_tag</span><span class="p">()</span>
<span class="go">&lt;label class=&quot;required&quot; for=&quot;id_subject&quot;&gt;Subject:&lt;/label&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">legend_tag</span><span class="p">()</span>
<span class="go">&lt;legend class=&quot;required&quot; for=&quot;id_subject&quot;&gt;Subject:&lt;/legend&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">label_tag</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">})</span>
<span class="go">&lt;label for=&quot;id_subject&quot; class=&quot;foo required&quot;&gt;Subject:&lt;/label&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">legend_tag</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">})</span>
<span class="go">&lt;legend for=&quot;id_subject&quot; class=&quot;foo required&quot;&gt;Subject:&lt;/legend&gt;</span>
</pre></div>
</div>
</section>
<section id="s-configuring-form-elements-html-id-attributes-and-label-tags">
<span id="s-ref-forms-api-configuring-label"></span><span id="configuring-form-elements-html-id-attributes-and-label-tags"></span><span id="ref-forms-api-configuring-label"></span><h3>フォーム要素の HTML <code class="docutils literal notranslate"><span class="pre">id</span></code> 属性と <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> タグを設定する<a class="headerlink" href="#configuring-form-elements-html-id-attributes-and-label-tags" title="Link to this heading">¶</a></h3>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.auto_id">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">auto_id</span></span><a class="headerlink" href="#django.forms.Form.auto_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>デフォルトでは、フォームをレンダリングするメソッドは次のものを含みます:</p>
<ul class="simple">
<li><p>フォーム要素に対する HTML <code class="docutils literal notranslate"><span class="pre">id</span></code> 属性。</p></li>
<li><p>ラベルの前後に、フォームに対応する <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> タグ。 HTML の <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> タグは、どのラベルテキストがどのフォーム要素と関係しているかを指定します。この小さな修飾によって、補助的なデバイスでフォームにアクセスするのが便利になります。いつも <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> タグを使うようにするとよいでしょう。</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">id</span></code> 属性の値は、フォームフィールド名に <code class="docutils literal notranslate"><span class="pre">id_</span></code> を前置して生成されます。しかし、もし <code class="docutils literal notranslate"><span class="pre">id</span></code> 規約を変更したかったり、 HTML <code class="docutils literal notranslate"><span class="pre">id</span></code> 属性と <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> タグを完全に消し去りたいような場合は、この挙動は変更可能です。</p>
<p><code class="docutils literal notranslate"><span class="pre">id</span></code> とラベルの挙動を制御するには、 <code class="docutils literal notranslate"><span class="pre">auto_id</span></code> 引数を使います。この引数は、 <code class="docutils literal notranslate"><span class="pre">True</span></code> か <code class="docutils literal notranslate"><span class="pre">False</span></code> か文字列でなければなりません。</p>
<p><code class="docutils literal notranslate"><span class="pre">auto_id</span></code> が <code class="docutils literal notranslate"><span class="pre">False</span></code> の場合、フォームの出力には <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> タグや <code class="docutils literal notranslate"><span class="pre">id</span></code> 属性が含まれなくなります。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;div&gt;Subject:&lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;Message:&lt;textarea name=&quot;message&quot; cols=&quot;40&quot; rows=&quot;10&quot; required&gt;&lt;/textarea&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;Sender:&lt;input type=&quot;email&quot; name=&quot;sender&quot; required&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;Cc myself:&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot;&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">auto_id</span></code> が <code class="docutils literal notranslate"><span class="pre">True</span></code> に設定されている場合、フォームの出力には <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> タグが含まれ、各フォームフィールドの <code class="docutils literal notranslate"><span class="pre">id</span></code> としてフィールド名を使用します。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;subject&quot;&gt;Subject:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required id=&quot;subject&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;message&quot;&gt;Message:&lt;/label&gt;&lt;textarea name=&quot;message&quot; cols=&quot;40&quot; rows=&quot;10&quot; required id=&quot;message&quot;&gt;&lt;/textarea&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;sender&quot;&gt;Sender:&lt;/label&gt;&lt;input type=&quot;email&quot; name=&quot;sender&quot; required id=&quot;sender&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;cc_myself&quot;&gt;Cc myself:&lt;/label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;cc_myself&quot;&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">auto_id</span></code> が <code class="docutils literal notranslate"><span class="pre">'%s'</span></code> 形式の文字を含む文字列に設定されている場合、フォームの出力には <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> タグが含まれ、フォーマット文字列に基づいて <code class="docutils literal notranslate"><span class="pre">id</span></code> 属性が生成されます。例えば、フォーマット文字列が <code class="docutils literal notranslate"><span class="pre">'field_%s'</span></code> の場合、<code class="docutils literal notranslate"><span class="pre">subject</span></code> という名前のフィールドは <code class="docutils literal notranslate"><span class="pre">'field_subject'</span></code> という <code class="docutils literal notranslate"><span class="pre">id</span></code> 値を取得します。例を続けます:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="s2">&quot;id_for_</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_for_subject&quot;&gt;Subject:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required id=&quot;id_for_subject&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_for_message&quot;&gt;Message:&lt;/label&gt;&lt;textarea name=&quot;message&quot; cols=&quot;40&quot; rows=&quot;10&quot; required id=&quot;id_for_message&quot;&gt;&lt;/textarea&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_for_sender&quot;&gt;Sender:&lt;/label&gt;&lt;input type=&quot;email&quot; name=&quot;sender&quot; required id=&quot;id_for_sender&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_for_cc_myself&quot;&gt;Cc myself:&lt;/label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_for_cc_myself&quot;&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p>もし、 <code class="docutils literal notranslate"><span class="pre">auto_id</span></code> が (<code class="docutils literal notranslate"><span class="pre">%s</span></code> を含まない文字列のような) それ以外の真の値にセットされた場合、ライブラリは <code class="docutils literal notranslate"><span class="pre">auto_id</span></code> が <code class="docutils literal notranslate"><span class="pre">True</span></code> の場合と同様に動作します。</p>
<p>デフォルトでは、 <code class="docutils literal notranslate"><span class="pre">auto_id</span></code> は文字列 <code class="docutils literal notranslate"><span class="pre">'id_%s'</span></code> がセットされています。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.label_suffix">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">label_suffix</span></span><a class="headerlink" href="#django.forms.Form.label_suffix" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>フォームをレンダリングする際、すべてのラベル名の後ろにつけられる翻訳可能な文字列の接尾語 (英語ではコロン (<code class="docutils literal notranslate"><span class="pre">:</span></code>) がデフォルト) です。</p>
<p>その文字をカスタマイズしたり、完全に省略したりすることも、<code class="docutils literal notranslate"><span class="pre">label_suffix</span></code> パラメータを使用して可能です。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="s2">&quot;id_for_</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">label_suffix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_for_subject&quot;&gt;Subject&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required id=&quot;id_for_subject&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_for_message&quot;&gt;Message&lt;/label&gt;&lt;textarea name=&quot;message&quot; cols=&quot;40&quot; rows=&quot;10&quot; required id=&quot;id_for_message&quot;&gt;&lt;/textarea&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_for_sender&quot;&gt;Sender&lt;/label&gt;&lt;input type=&quot;email&quot; name=&quot;sender&quot; required id=&quot;id_for_sender&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_for_cc_myself&quot;&gt;Cc myself&lt;/label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_for_cc_myself&quot;&gt;&lt;/div&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="s2">&quot;id_for_</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">label_suffix</span><span class="o">=</span><span class="s2">&quot; -&gt;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_for_subject&quot;&gt;Subject -&amp;gt;&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required id=&quot;id_for_subject&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_for_message&quot;&gt;Message -&amp;gt;&lt;/label&gt;&lt;textarea name=&quot;message&quot; cols=&quot;40&quot; rows=&quot;10&quot; required id=&quot;id_for_message&quot;&gt;&lt;/textarea&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_for_sender&quot;&gt;Sender -&amp;gt;&lt;/label&gt;&lt;input type=&quot;email&quot; name=&quot;sender&quot; required id=&quot;id_for_sender&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_for_cc_myself&quot;&gt;Cc myself -&amp;gt;&lt;/label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_for_cc_myself&quot;&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p>接尾文字列は、ラベルの最後の文字が句読文字 (英語では、 <code class="docutils literal notranslate"><span class="pre">.</span></code>, <code class="docutils literal notranslate"><span class="pre">!</span></code>, <code class="docutils literal notranslate"><span class="pre">?</span></code>, <code class="docutils literal notranslate"><span class="pre">:</span></code>) でない場合に限ってつけられます。</p>
<p>フィールドはそれ自身の <a class="reference internal" href="fields.html#django.forms.Field.label_suffix" title="django.forms.Field.label_suffix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">label_suffix</span></code></a> を定義することもできます。これは <a class="reference internal" href="#django.forms.Form.label_suffix" title="django.forms.Form.label_suffix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.label_suffix</span></code></a> よりも優先されます。また、 <code class="docutils literal notranslate"><span class="pre">label_suffix</span></code> パラメータを <a class="reference internal" href="#django.forms.BoundField.label_tag" title="django.forms.BoundField.label_tag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">label_tag()</span></code></a> / <a class="reference internal" href="#django.forms.BoundField.legend_tag" title="django.forms.BoundField.legend_tag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">legend_tag()</span></code></a> に使用することで、実行時に接尾辞を上書きすることもできます。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.use_required_attribute">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">use_required_attribute</span></span><a class="headerlink" href="#django.forms.Form.use_required_attribute" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">True</span></code> (デフォルト値) に設定した場合、必須フォームフィールドは HTMLの <code class="docutils literal notranslate"><span class="pre">required</span></code> 属性を伴います。</p>
<p><a class="reference internal" href="../../topics/forms/formsets.html"><span class="doc">Formsets</span></a> は、フォームセットにフォームを追加または削除したときのブラウザの誤検証を避けるため、 <code class="docutils literal notranslate"><span class="pre">use_required_attribute=False</span></code> としてフォームをインスタンス化します。</p>
</section>
<section id="s-configuring-the-rendering-of-a-form-s-widgets">
<span id="configuring-the-rendering-of-a-form-s-widgets"></span><h3>フォームウィジェットのレンダリングを設定する<a class="headerlink" href="#configuring-the-rendering-of-a-form-s-widgets" title="Link to this heading">¶</a></h3>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.default_renderer">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">default_renderer</span></span><a class="headerlink" href="#django.forms.Form.default_renderer" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>フォームの <a class="reference internal" href="renderers.html"><span class="doc">renderer</span></a> を指定します。デフォルトは <code class="docutils literal notranslate"><span class="pre">None</span></code> で、 <a class="reference internal" href="../settings.html#std-setting-FORM_RENDERER"><code class="xref std std-setting docutils literal notranslate"><span class="pre">FORM_RENDERER</span></code></a> 設定で指定されたデフォルトのレンダラーを使用することを意味します。</p>
<p>これはクラスの属性としてフォーム定義の際に設定するもしくは、<code class="docutils literal notranslate"><span class="pre">Form.__init__()</span></code> に <code class="docutils literal notranslate"><span class="pre">renderer</span></code> 引数を使うことで設定します。たとえば:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">django</span><span class="w"> </span><span class="kn">import</span> <span class="n">forms</span>


<span class="k">class</span><span class="w"> </span><span class="nc">MyForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
    <span class="n">default_renderer</span> <span class="o">=</span> <span class="n">MyRenderer</span><span class="p">()</span>
</pre></div>
</div>
<p>もしくは:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">form</span> <span class="o">=</span> <span class="n">MyForm</span><span class="p">(</span><span class="n">renderer</span><span class="o">=</span><span class="n">MyRenderer</span><span class="p">())</span>
</pre></div>
</div>
</section>
<section id="s-notes-on-field-ordering">
<span id="notes-on-field-ordering"></span><h3>フィールドの順序に関する記述<a class="headerlink" href="#notes-on-field-ordering" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">as_p()</span></code>, <code class="docutils literal notranslate"><span class="pre">as_ul()</span></code>,  <code class="docutils literal notranslate"><span class="pre">as_table()</span></code> ショートカットでは、フィールドはフォームクラスで定義した順序で表示されます。たとえば、 <code class="docutils literal notranslate"><span class="pre">ContactForm</span></code> の例では、フィールドは <code class="docutils literal notranslate"><span class="pre">subject</span></code>, <code class="docutils literal notranslate"><span class="pre">message</span></code>, <code class="docutils literal notranslate"><span class="pre">sender</span></code>, <code class="docutils literal notranslate"><span class="pre">cc_myself</span></code> の順で定義されます。 HTML アウトプットの順序を変更するには、クラスの中で定義する順序を変えます。</p>
<p>順序のカスタマイズには、ほかにもいくつかの方法があります:</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.field_order">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">field_order</span></span><a class="headerlink" href="#django.forms.Form.field_order" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>デフォルトでは <code class="docutils literal notranslate"><span class="pre">Form.field_order=None</span></code> で、これはフォームクラスでフィールドを定義した順番を保持します。<code class="docutils literal notranslate"><span class="pre">field_order</span></code> がフィールド名のリストである場合、指定されたリストに従ってフィールドが順序付けられ、残りのフィールドはデフォルトの順序に従って追加されます。リスト内の未知のフィールド名は無視されます。これにより、サブクラスでフィールドを <code class="docutils literal notranslate"><span class="pre">None</span></code> に設定して無効にしても、順序を再定義する必要がなくなります。</p>
<p><a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> に <code class="docutils literal notranslate"><span class="pre">Form.field_order</span></code> 引数を使うことで、フィールドの順序をオーバーライドすることもできます。 <a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> の中で <a class="reference internal" href="#django.forms.Form.field_order" title="django.forms.Form.field_order"><code class="xref py py-attr docutils literal notranslate"><span class="pre">field_order</span></code></a> が定義されていて、 <em>かつ</em> <code class="docutils literal notranslate"><span class="pre">Form</span></code> をインスタンス化する際に <code class="docutils literal notranslate"><span class="pre">field_order</span></code> をインクルードする場合、後者の <code class="docutils literal notranslate"><span class="pre">field_order</span></code> が優先されます。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.order_fields">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">order_fields</span></span>(<em class="sig-param"><span class="n"><span class="pre">field_order</span></span></em>)<a class="headerlink" href="#django.forms.Form.order_fields" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>また、 <code class="docutils literal notranslate"><span class="pre">order_fields()</span></code> に <a class="reference internal" href="#django.forms.Form.field_order" title="django.forms.Form.field_order"><code class="xref py py-attr docutils literal notranslate"><span class="pre">field_order</span></code></a> と同様のフィールド名のリストを用いて、いつでもフィールドの順序を変更できます。</p>
</section>
<section id="s-how-errors-are-displayed">
<span id="how-errors-are-displayed"></span><h3>エラーの表示方法<a class="headerlink" href="#how-errors-are-displayed" title="Link to this heading">¶</a></h3>
<p>バインドされた <code class="docutils literal notranslate"><span class="pre">Form</span></code> オブジェクトをレンダリングすると、まだ実行されていない場合はフォームのバリデーションが自動的に実行され、HTML出力にはバリデーションエラーがフィールドの近くに <code class="docutils literal notranslate"><span class="pre">&lt;ul</span> <span class="pre">class=&quot;errorlist&quot;&gt;</span></code> として含まれます。エラーメッセージの具体的な配置は使用している出力方法に依存します。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hi there&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;sender&quot;</span><span class="p">:</span> <span class="s2">&quot;invalid email address&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;cc_myself&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">auto_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;div&gt;Subject:</span>
<span class="go">  &lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;This field is required.&lt;/li&gt;&lt;/ul&gt;</span>
<span class="go">  &lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required aria-invalid=&quot;true&quot;&gt;</span>
<span class="go">&lt;/div&gt;</span>
<span class="go">&lt;div&gt;Message:</span>
<span class="go">  &lt;textarea name=&quot;message&quot; cols=&quot;40&quot; rows=&quot;10&quot; required&gt;Hi there&lt;/textarea&gt;</span>
<span class="go">&lt;/div&gt;</span>
<span class="go">&lt;div&gt;Sender:</span>
<span class="go">  &lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;Enter a valid email address.&lt;/li&gt;&lt;/ul&gt;</span>
<span class="go">  &lt;input type=&quot;email&quot; name=&quot;sender&quot; value=&quot;invalid email address&quot; required aria-invalid=&quot;true&quot;&gt;</span>
<span class="go">&lt;/div&gt;</span>
<span class="go">&lt;div&gt;Cc myself:</span>
<span class="go">  &lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; checked&gt;</span>
<span class="go">&lt;/div&gt;</span>
</pre></div>
</div>
</section>
<section id="s-customizing-the-error-list-format">
<span id="s-ref-forms-error-list-format"></span><span id="customizing-the-error-list-format"></span><span id="ref-forms-error-list-format"></span><h3>エラーリストのフォーマットをカスタムする<a class="headerlink" href="#customizing-the-error-list-format" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="django.forms.ErrorList">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ErrorList</span></span>(<em class="sig-param"><span class="n"><span class="pre">initlist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renderer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/utils.py#L141"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.ErrorList" title="Link to this definition">¶</a></dt>
<dd><p>デフォルトでは、フォームはバリデーションエラーを整形するために <code class="docutils literal notranslate"><span class="pre">django.forms.utils.ErrorList</span></code> を使用します。<code class="docutils literal notranslate"><span class="pre">ErrorList</span></code> はリストのようなオブジェクトであり、<code class="docutils literal notranslate"><span class="pre">initlist</span></code> はエラーのリストです。さらに、このクラスは以下の属性とメソッドを持っています。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.ErrorList.error_class">
<span class="sig-name descname"><span class="pre">error_class</span></span><a class="headerlink" href="#django.forms.ErrorList.error_class" title="Link to this definition">¶</a></dt>
<dd><p>エラーリストをレンダリングする際に使用されるCSSクラス。指定されたクラスは、デフォルトの <code class="docutils literal notranslate"><span class="pre">errorlist</span></code> クラスに追加されます。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.ErrorList.renderer">
<span class="sig-name descname"><span class="pre">renderer</span></span><a class="headerlink" href="#django.forms.ErrorList.renderer" title="Link to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">ErrorList</span></code> に使用する <a class="reference internal" href="renderers.html"><span class="doc">レンダラー</span></a> を指定します。デフォルトでは <code class="docutils literal notranslate"><span class="pre">None</span></code> であり、これは <a class="reference internal" href="../settings.html#std-setting-FORM_RENDERER"><code class="xref std std-setting docutils literal notranslate"><span class="pre">FORM_RENDERER</span></code></a> 設定で指定されたデフォルトのレンダラーを使用することを意味します。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.ErrorList.template_name">
<span class="sig-name descname"><span class="pre">template_name</span></span><a class="headerlink" href="#django.forms.ErrorList.template_name" title="Link to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">__str__</span></code> や <a class="reference internal" href="#django.forms.ErrorList.render" title="django.forms.ErrorList.render"><code class="xref py py-meth docutils literal notranslate"><span class="pre">render()</span></code></a> を呼び出した際に使用されるテンプレートの名前です。デフォルトでは、これは <code class="docutils literal notranslate"><span class="pre">'django/forms/errors/list/default.html'</span></code> であり、<code class="docutils literal notranslate"><span class="pre">'ul.html'</span></code> テンプレートのプロキシとなります。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.ErrorList.template_name_text">
<span class="sig-name descname"><span class="pre">template_name_text</span></span><a class="headerlink" href="#django.forms.ErrorList.template_name_text" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#django.forms.ErrorList.as_text" title="django.forms.ErrorList.as_text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_text()</span></code></a> を呼び出す際に使用されるテンプレートの名前です。デフォルトでは、これは <code class="docutils literal notranslate"><span class="pre">'django/forms/errors/list/text.html'</span></code> です。このテンプレートは、エラーを箇条書きのリストとしてレンダリングします。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.ErrorList.template_name_ul">
<span class="sig-name descname"><span class="pre">template_name_ul</span></span><a class="headerlink" href="#django.forms.ErrorList.template_name_ul" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#django.forms.ErrorList.as_ul" title="django.forms.ErrorList.as_ul"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_ul()</span></code></a> を呼び出すときに使用されるテンプレートの名前です。デフォルトではこれは <code class="docutils literal notranslate"><span class="pre">'django/forms/errors/list/ul.html'</span></code> です。このテンプレートは、 <a class="reference internal" href="#django.forms.ErrorList.error_class" title="django.forms.ErrorList.error_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">error_class</span></code></a> で定義された CSS クラスを持つ包括的な <code class="docutils literal notranslate"><span class="pre">&lt;ul&gt;</span></code> で <code class="docutils literal notranslate"><span class="pre">&lt;li&gt;</span></code> タグ内のエラーをレンダリングします。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.forms.ErrorList.get_context">
<span class="sig-name descname"><span class="pre">get_context</span></span>()<a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/utils.py#L179"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.ErrorList.get_context" title="Link to this definition">¶</a></dt>
<dd><p>テンプレート内のエラーのレンダリング用のコンテキストを返します。</p>
<p>利用可能なコンテキストは次のとおりです。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">errors</span></code>: エラーのリスト。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">error_class</span></code>: CSSクラスの文字列。</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.forms.ErrorList.render">
<span class="sig-name descname"><span class="pre">render</span></span>(<em class="sig-param"><span class="n"><span class="pre">template_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renderer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#django.forms.ErrorList.render" title="Link to this definition">¶</a></dt>
<dd><p>renderメソッドは、 <code class="docutils literal notranslate"><span class="pre">__str__</span></code> と <a class="reference internal" href="#django.forms.ErrorList.as_ul" title="django.forms.ErrorList.as_ul"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_ul()</span></code></a> メソッドの両方から呼び出されます。</p>
<p>すべての引数はオプションで、デフォルト値は以下の通りです:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">template_name</span></code>: <a class="reference internal" href="#django.forms.ErrorList.template_name" title="django.forms.ErrorList.template_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">template_name</span></code></a> が返す値</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">context</span></code>: <a class="reference internal" href="#django.forms.ErrorList.get_context" title="django.forms.ErrorList.get_context"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_context()</span></code></a> が返す値</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">renderer</span></code>: <a class="reference internal" href="#django.forms.ErrorList.renderer" title="django.forms.ErrorList.renderer"><code class="xref py py-attr docutils literal notranslate"><span class="pre">renderer</span></code></a> が返す値</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.forms.ErrorList.as_text">
<span class="sig-name descname"><span class="pre">as_text</span></span>()<a class="headerlink" href="#django.forms.ErrorList.as_text" title="Link to this definition">¶</a></dt>
<dd><p>エラーリストを <a class="reference internal" href="#django.forms.ErrorList.template_name_text" title="django.forms.ErrorList.template_name_text"><code class="xref py py-attr docutils literal notranslate"><span class="pre">template_name_text</span></code></a> で定義されたテンプレートを使用してレンダリングします。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.forms.ErrorList.as_ul">
<span class="sig-name descname"><span class="pre">as_ul</span></span>()<a class="headerlink" href="#django.forms.ErrorList.as_ul" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#django.forms.ErrorList.template_name_ul" title="django.forms.ErrorList.template_name_ul"><code class="xref py py-attr docutils literal notranslate"><span class="pre">template_name_ul</span></code></a> で定義されたテンプレートを使用してエラーリストをレンダリングします。</p>
</dd></dl>

<p>エラーのレンダリングをカスタマイズしたい場合は、<a class="reference internal" href="#django.forms.ErrorList.template_name" title="django.forms.ErrorList.template_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">template_name</span></code></a> 属性をオーバーライドするか、あるいはデフォルトテンプレートをオーバーライドすることによって達成できます。詳しくは <a class="reference internal" href="renderers.html#overriding-built-in-form-templates"><span class="std std-ref">組み込みのフォームテンプレートをオーバーライドする</span></a> も参照してください。</p>
</dd></dl>

</section>
</section>
<section id="s-more-granular-output">
<span id="more-granular-output"></span><h2>さらに詳細なアウトプット<a class="headerlink" href="#more-granular-output" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">as_p()</span></code>, <code class="docutils literal notranslate"><span class="pre">as_ul()</span></code>, <code class="docutils literal notranslate"><span class="pre">as_table()</span></code> メソッドはショートカットです -- フォームオブジェクトを表示する唯一の方法ではありません。</p>
<dl class="py class">
<dt class="sig sig-object py" id="django.forms.BoundField">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BoundField</span></span><a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L13"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> インスタンスのひとつのフィールドを HTML として表示したり、その属性にアクセスするのに使います。</p>
<p>このオブジェクトの <code class="docutils literal notranslate"><span class="pre">__str__()</span></code> メソッドは、このフィールドの HTML を表示します。</p>
</dd></dl>

<p>単一の <code class="docutils literal notranslate"><span class="pre">BoundField</span></code> を取得するには、フィールド名をキーとしてフォームに対して辞書参照構文を使用します。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">form</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">])</span>
<span class="go">&lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required&gt;</span>
</pre></div>
</div>
<p>全ての <code class="docutils literal notranslate"><span class="pre">BoundField</span></code> オブジェクトを取得するには、フォームをイテレートします:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">form</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">boundfield</span> <span class="ow">in</span> <span class="n">form</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">boundfield</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">&lt;input id=&quot;id_subject&quot; type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required&gt;</span>
<span class="go">&lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; required&gt;</span>
<span class="go">&lt;input type=&quot;email&quot; name=&quot;sender&quot; id=&quot;id_sender&quot; required&gt;</span>
<span class="go">&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot; id=&quot;id_cc_myself&quot;&gt;</span>
</pre></div>
</div>
<p>フィールド固有の出力は、フォームオブジェクトの <code class="docutils literal notranslate"><span class="pre">auto_id</span></code> 設定を反映します:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">])</span>
<span class="go">&lt;input type=&quot;text&quot; name=&quot;message&quot; required&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="s2">&quot;id_</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">])</span>
<span class="go">&lt;input type=&quot;text&quot; name=&quot;message&quot; id=&quot;id_message&quot; required&gt;</span>
</pre></div>
</div>
<section id="s-attributes-of-boundfield">
<span id="attributes-of-boundfield"></span><h3><code class="docutils literal notranslate"><span class="pre">BoundField</span></code> の属性一覧<a class="headerlink" href="#attributes-of-boundfield" title="Link to this heading">¶</a></h3>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.BoundField.auto_id">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">auto_id</span></span><a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L239"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField.auto_id" title="Link to this definition">¶</a></dt>
<dd><p>この <code class="docutils literal notranslate"><span class="pre">BoundField</span></code> の HTML ID 属性。 <a class="reference internal" href="#django.forms.Form.auto_id" title="django.forms.Form.auto_id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.auto_id</span></code></a> が <code class="docutils literal notranslate"><span class="pre">False</span></code> であれば、空の文字列を返します。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.BoundField.data">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">data</span></span><a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L132"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField.data" title="Link to this definition">¶</a></dt>
<dd><p>このプロパティは、ウィジェットの <a class="reference internal" href="widgets.html#django.forms.Widget.value_from_datadict" title="django.forms.Widget.value_from_datadict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">value_from_datadict()</span></code></a> メソッドによって抽出された、この <a class="reference internal" href="#django.forms.BoundField" title="django.forms.BoundField"><code class="xref py py-class docutils literal notranslate"><span class="pre">BoundField</span></code></a> のデータを返します。もしデータが与えられていない場合は、 <code class="docutils literal notranslate"><span class="pre">None</span></code> を返します。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">unbound_form</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">unbound_form</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bound_form</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;My Subject&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">bound_form</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="go">My Subject</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.BoundField.errors">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">errors</span></span><a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L70"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField.errors" title="Link to this definition">¶</a></dt>
<dd><p>プリント時に HTML の <code class="docutils literal notranslate"><span class="pre">&lt;ul</span> <span class="pre">class=&quot;errorlist&quot;&gt;</span></code> として表示される <a class="reference internal" href="#ref-forms-error-list-format"><span class="std std-ref">リストのようなオブジェクト</span></a> です:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;hi&quot;</span><span class="p">,</span> <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;sender&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;cc_myself&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">auto_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">])</span>
<span class="go">&lt;input type=&quot;text&quot; name=&quot;message&quot; required aria-invalid=&quot;true&quot;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">errors</span>
<span class="go">[&#39;This field is required.&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
<span class="go">&lt;ul class=&quot;errorlist&quot;&gt;&lt;li&gt;This field is required.&lt;/li&gt;&lt;/ul&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">errors</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
</pre></div>
</div>
<p>エラーを含むフィールドをレンダリングする際、そのフィールドのウィジェットに <code class="docutils literal notranslate"><span class="pre">aria-invalid=&quot;true&quot;</span></code> が設定され、スクリーンリーダーユーザーにエラーが存在することを示します。</p>
<div class="versionchanged">
<span class="title">Changed in Django 5.0:</span> <p>フィールドにエラーがある場合、 <code class="docutils literal notranslate"><span class="pre">aria-invalid=&quot;true&quot;</span></code> が追加されました。</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.BoundField.field">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">field</span></span><a class="headerlink" href="#django.forms.BoundField.field" title="Link to this definition">¶</a></dt>
<dd><p>この <a class="reference internal" href="#django.forms.BoundField" title="django.forms.BoundField"><code class="xref py py-class docutils literal notranslate"><span class="pre">BoundField</span></code></a> がラップしているフォームクラスの <a class="reference internal" href="fields.html#django.forms.Field" title="django.forms.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">Field</span></code></a> インスタンス。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.BoundField.form">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">form</span></span><a class="headerlink" href="#django.forms.BoundField.form" title="Link to this definition">¶</a></dt>
<dd><p>この <a class="reference internal" href="#django.forms.BoundField" title="django.forms.BoundField"><code class="xref py py-class docutils literal notranslate"><span class="pre">BoundField</span></code></a> がバインドされている <a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> インスタンス。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.BoundField.help_text">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">help_text</span></span><a class="headerlink" href="#django.forms.BoundField.help_text" title="Link to this definition">¶</a></dt>
<dd><p>フィールドの <a class="reference internal" href="fields.html#django.forms.Field.help_text" title="django.forms.Field.help_text"><code class="xref py py-attr docutils literal notranslate"><span class="pre">help_text</span></code></a> 。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.BoundField.html_name">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">html_name</span></span><a class="headerlink" href="#django.forms.BoundField.html_name" title="Link to this definition">¶</a></dt>
<dd><p>ウィジェットのHTMLの <code class="docutils literal notranslate"><span class="pre">name</span></code> 属性で使用される名前です。これは <a class="reference internal" href="#django.forms.Form.prefix" title="django.forms.Form.prefix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">prefix</span></code></a> の形式を考慮します。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.BoundField.id_for_label">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">id_for_label</span></span><a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L252"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField.id_for_label" title="Link to this definition">¶</a></dt>
<dd><p>このプロパティを使用して、このフィールドのIDをレンダリングします。例えば、(<a class="reference internal" href="#django.forms.BoundField.label_tag" title="django.forms.BoundField.label_tag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">label_tag()</span></code></a>/<a class="reference internal" href="#django.forms.BoundField.legend_tag" title="django.forms.BoundField.legend_tag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">legend_tag()</span></code></a> がこれを行ってくれるにも関わらず、) テンプレートで手動で <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> を構築している場合は:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">form.my_field.id_for_label</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">my_field</span> <span class="cp">}}</span>
</pre></div>
</div>
<p>デフォルトでは、これはフィールドの名前に <code class="docutils literal notranslate"><span class="pre">id_</span></code> を前につけたものになります(上の例では &quot;<code class="docutils literal notranslate"><span class="pre">id_my_field</span></code>&quot;)。フィールドのウィジェットの <a class="reference internal" href="widgets.html#django.forms.Widget.attrs" title="django.forms.Widget.attrs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">attrs</span></code></a> を設定することで、IDを変更できます。例えば、以下のようにフィールドを宣言します:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_field</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">TextInput</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;myFIELD&quot;</span><span class="p">}))</span>
</pre></div>
</div>
<p>そして、上記のテンプレートを使用すると、以下のように表示されます:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;myFIELD&quot;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;&lt;</span><span class="nt">input</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;myFIELD&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;my_field&quot;</span> <span class="na">required</span><span class="p">&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.BoundField.initial">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">initial</span></span><a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L263"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField.initial" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#django.forms.BoundField.initial" title="django.forms.BoundField.initial"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BoundField.initial</span></code></a> を使用して、フォームフィールドの初期データを取得します。データは、存在する場合は <a class="reference internal" href="#django.forms.Form.initial" title="django.forms.Form.initial"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.initial</span></code></a> から、そうでなければ <a class="reference internal" href="fields.html#django.forms.Field.initial" title="django.forms.Field.initial"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Field.initial</span></code></a> から取得されます。呼び出し可能オブジェクトの値は評価されます。より多くの例については、 <a class="reference internal" href="#ref-forms-initial-form-values"><span class="std std-ref">フォームの初期値</span></a> を参照してください。</p>
<p><a class="reference internal" href="#django.forms.BoundField.initial" title="django.forms.BoundField.initial"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BoundField.initial</span></code></a> はその返り値をキャッシュします。これは、返り値が変わる可能性がある呼び出し可能オブジェクト(例: <code class="docutils literal notranslate"><span class="pre">datetime.now</span></code> や <code class="docutils literal notranslate"><span class="pre">uuid.uuid4</span></code> など)を扱う際に特に便利です。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">DatedCommentForm</span><span class="p">(</span><span class="n">CommentForm</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">created</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">DatedCommentForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;created&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">initial</span>
<span class="go">datetime.datetime(2021, 7, 27, 9, 5, 54)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;created&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">initial</span>
<span class="go">datetime.datetime(2021, 7, 27, 9, 5, 54)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#django.forms.Form.get_initial_for_field" title="django.forms.Form.get_initial_for_field"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_initial_for_field()</span></code></a> よりも <a class="reference internal" href="#django.forms.BoundField.initial" title="django.forms.BoundField.initial"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BoundField.initial</span></code></a> を使うことをお勧めします。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.BoundField.is_hidden">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">is_hidden</span></span><a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L234"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField.is_hidden" title="Link to this definition">¶</a></dt>
<dd><p>この <a class="reference internal" href="#django.forms.BoundField" title="django.forms.BoundField"><code class="xref py py-class docutils literal notranslate"><span class="pre">BoundField</span></code></a> のウィジェットが非表示の場合、 <code class="docutils literal notranslate"><span class="pre">True</span></code> を返します。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.BoundField.label">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">label</span></span><a class="headerlink" href="#django.forms.BoundField.label" title="Link to this definition">¶</a></dt>
<dd><p>フィールドの <a class="reference internal" href="fields.html#django.forms.Field.label" title="django.forms.Field.label"><code class="xref py py-attr docutils literal notranslate"><span class="pre">label</span></code></a> 。これは <a class="reference internal" href="#django.forms.BoundField.label_tag" title="django.forms.BoundField.label_tag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">label_tag()</span></code></a>/<a class="reference internal" href="#django.forms.BoundField.legend_tag" title="django.forms.BoundField.legend_tag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">legend_tag()</span></code></a> で使用されます。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.BoundField.name">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#django.forms.BoundField.name" title="Link to this definition">¶</a></dt>
<dd><p>このフィールドのフォーム上での名前:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">subject</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="go">message</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.BoundField.template_name">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">template_name</span></span><a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L79"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField.template_name" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<span class="title">New in Django 5.0.</span> </div>
<p><a class="reference internal" href="#django.forms.BoundField.as_field_group" title="django.forms.BoundField.as_field_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">BoundField.as_field_group()</span></code></a> でレンダリングされるテンプレートの名前。</p>
<p>指定されていれば <a class="reference internal" href="fields.html#django.forms.Field.template_name" title="django.forms.Field.template_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">template_name</span></code></a> の値を、そうでなければ <a class="reference internal" href="renderers.html#django.forms.renderers.BaseRenderer.field_template_name" title="django.forms.renderers.BaseRenderer.field_template_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">field_template_name</span></code></a> の値を返すプロパティ。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.BoundField.use_fieldset">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">use_fieldset</span></span><a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L313"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField.use_fieldset" title="Link to this definition">¶</a></dt>
<dd><p>この BoundField ウィジェットの <code class="docutils literal notranslate"><span class="pre">use_fieldset</span></code> 属性の値を返します。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.BoundField.widget_type">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">widget_type</span></span><a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L307"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField.widget_type" title="Link to this definition">¶</a></dt>
<dd><p>ラップされたフィールドのウィジェットのクラス名を小文字にして、末尾の <code class="docutils literal notranslate"><span class="pre">input</span></code> や <code class="docutils literal notranslate"><span class="pre">widget</span></code> を削除したものを返します。これは、ウィジェットのタイプに依存するレイアウトを持つフォームを構築する際に使用できます。例えば：</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">field</span> <span class="k">in</span> <span class="nv">form</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">field.widget_type</span> <span class="o">==</span> <span class="s1">&#39;checkbox&#39;</span> <span class="cp">%}</span>
        # render one way
    <span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
        # render another way
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="s-methods-of-boundfield">
<span id="methods-of-boundfield"></span><h3><code class="docutils literal notranslate"><span class="pre">BoundField</span></code> のメソッド<a class="headerlink" href="#methods-of-boundfield" title="Link to this heading">¶</a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.BoundField.as_field_group">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">as_field_group</span></span>()<a class="headerlink" href="#django.forms.BoundField.as_field_group" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<span class="title">New in Django 5.0.</span> </div>
<p>フィールドを <a class="reference internal" href="#django.forms.BoundField.render" title="django.forms.BoundField.render"><code class="xref py py-meth docutils literal notranslate"><span class="pre">BoundField.render()</span></code></a> を使用してデフォルト値でレンダリングし、設定されている場合はテンプレートの <a class="reference internal" href="fields.html#django.forms.Field.template_name" title="django.forms.Field.template_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">template_name</span></code></a> 、そうでなければ <a class="reference internal" href="renderers.html#django.forms.renderers.BaseRenderer.field_template_name" title="django.forms.renderers.BaseRenderer.field_template_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">field_template_name</span></code></a> を使用して、<code class="docutils literal notranslate"><span class="pre">BoundField</span></code> をラベル、ヘルプテキスト、エラーとともにレンダリングします。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.forms.BoundField.as_hidden">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">as_hidden</span></span>(<em class="sig-param"><span class="n"><span class="pre">attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L125"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField.as_hidden" title="Link to this definition">¶</a></dt>
<dd><p>これを <code class="docutils literal notranslate"><span class="pre">&lt;input</span> <span class="pre">type=&quot;hidden&quot;&gt;</span></code> として表現するためのHTMLの文字列を返します。</p>
<p><code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> は <a class="reference internal" href="#django.forms.BoundField.as_widget" title="django.forms.BoundField.as_widget"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_widget()</span></code></a> に渡されます。</p>
<p>このメソッドは主に内部で使用されます。代わりにウィジェットを使用すべきです。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.forms.BoundField.as_widget">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">as_widget</span></span>(<em class="sig-param"><span class="n"><span class="pre">widget</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_initial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L85"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField.as_widget" title="Link to this definition">¶</a></dt>
<dd><p>渡されたウィジェットをレンダリングして、<code class="docutils literal notranslate"><span class="pre">attrs</span></code> として渡された任意のHTML属性を追加してフィールドをレンダリングします。ウィジェットが指定されていない場合、フィールドのデフォルトウィジェットが使用されます。</p>
<p><code class="docutils literal notranslate"><span class="pre">only_initial</span></code> は Django の内部で使用されるものであり、明示的に設定すべきではありません。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.forms.BoundField.css_classes">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">css_classes</span></span>(<em class="sig-param"><span class="n"><span class="pre">extra_classes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L220"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField.css_classes" title="Link to this definition">¶</a></dt>
<dd><p>Djangoのレンダリングショートカットを利用すると、必須のフォームフィールドやエラーを含むフィールドを示すためのCSSクラスが使用されます。フォームを手動でレンダリングする場合は、 <code class="docutils literal notranslate"><span class="pre">css_classes</span></code> メソッドを使用してこれらのCSSクラスにアクセスできます。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">css_classes</span><span class="p">()</span>
<span class="go">&#39;required&#39;</span>
</pre></div>
</div>
<p>エラークラスと必須クラスが必要な場合に加えて、追加のクラスを提供したい場合は、引数としてそのクラスを提供できます:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">css_classes</span><span class="p">(</span><span class="s2">&quot;foo bar&quot;</span><span class="p">)</span>
<span class="go">&#39;foo bar required&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.forms.BoundField.get_context">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">get_context</span></span>()<a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L82"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField.get_context" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<span class="title">New in Django 5.0.</span> </div>
<p>レンダリングするためのテンプレートコンテキストを返します。利用可能なコンテキストは、バインドされたフィールドのインスタンスである <code class="docutils literal notranslate"><span class="pre">field</span></code> です。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.forms.BoundField.label_tag">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">label_tag</span></span>(<em class="sig-param"><span class="n"><span class="pre">contents</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L165"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField.label_tag" title="Link to this definition">¶</a></dt>
<dd><p>フォームフィールドのラベルタグを、 <a class="reference internal" href="#django.forms.Form.template_name_label" title="django.forms.Form.template_name_label"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.template_name_label</span></code></a> で指定されたテンプレートを使用してレンダリングします。</p>
<p>利用可能なコンテキストは次のとおりです。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">field</span></code>: この <a class="reference internal" href="#django.forms.BoundField" title="django.forms.BoundField"><code class="xref py py-class docutils literal notranslate"><span class="pre">BoundField</span></code></a> のインスタンス。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">contents</span></code>: デフォルトでは <a class="reference internal" href="#django.forms.BoundField.label" title="django.forms.BoundField.label"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BoundField.label</span></code></a> と <a class="reference internal" href="#django.forms.Form.label_suffix" title="django.forms.Form.label_suffix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.label_suffix</span></code></a> (または設定されている場合は <a class="reference internal" href="fields.html#django.forms.Field.label_suffix" title="django.forms.Field.label_suffix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Field.label_suffix</span></code></a>) の結合された文字列です。これは <code class="docutils literal notranslate"><span class="pre">contents</span></code> と <code class="docutils literal notranslate"><span class="pre">label_suffix</span></code> 引数によって上書きできます。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">attrs</span></code>: <code class="docutils literal notranslate"><span class="pre">for</span></code>、<a class="reference internal" href="#django.forms.Form.required_css_class" title="django.forms.Form.required_css_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.required_css_class</span></code></a>、および <code class="docutils literal notranslate"><span class="pre">id</span></code> を含む <code class="docutils literal notranslate"><span class="pre">dict</span></code> 。<code class="docutils literal notranslate"><span class="pre">id</span></code> はフィールドのウィジェット <code class="docutils literal notranslate"><span class="pre">attrs</span></code> または <a class="reference internal" href="#django.forms.BoundField.auto_id" title="django.forms.BoundField.auto_id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BoundField.auto_id</span></code></a> によって生成されます。追加の属性は <code class="docutils literal notranslate"><span class="pre">attrs</span></code> 引数によって提供できます。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">use_tag</span></code>: ラベルに <code class="docutils literal notranslate"><span class="pre">id</span></code> がある場合は <code class="docutils literal notranslate"><span class="pre">True</span></code>、そうでない場合は <code class="docutils literal notranslate"><span class="pre">False</span></code> の真偽値です。<code class="docutils literal notranslate"><span class="pre">False</span></code> の場合、デフォルトテンプレートは <code class="docutils literal notranslate"><span class="pre">tag</span></code> を省略します。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tag</span></code>: タグをカスタマイズするオプションの文字列で、デフォルトは <code class="docutils literal notranslate"><span class="pre">label</span></code> です。</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>テンプレートでは、<code class="docutils literal notranslate"><span class="pre">field</span></code> は <code class="docutils literal notranslate"><span class="pre">BoundField</span></code> のインスタンスです。したがって、<code class="docutils literal notranslate"><span class="pre">field.field</span></code> でアクセスする <a class="reference internal" href="#django.forms.BoundField.field" title="django.forms.BoundField.field"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BoundField.field</span></code></a> は、あなたが宣言したフィールド、例えば <code class="docutils literal notranslate"><span class="pre">forms.CharField</span></code> になります。</p>
</div>
<p>フォームフィールドのラベルタグを別々にレンダリングするには、その <code class="docutils literal notranslate"><span class="pre">label_tag()</span></code> メソッドを呼び出します:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">label_tag</span><span class="p">())</span>
<span class="go">&lt;label for=&quot;id_message&quot;&gt;Message:&lt;/label&gt;</span>
</pre></div>
</div>
<p>レンダリングをカスタマイズしたい場合は、 <a class="reference internal" href="#django.forms.Form.template_name_label" title="django.forms.Form.template_name_label"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.template_name_label</span></code></a> 属性をオーバーライドするか、一般的にはデフォルトのテンプレートをオーバーライドしてください。詳細は、 <a class="reference internal" href="renderers.html#overriding-built-in-form-templates"><span class="std std-ref">組み込みのフォームテンプレートをオーバーライドする</span></a> も参照してください。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.forms.BoundField.legend_tag">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">legend_tag</span></span>(<em class="sig-param"><span class="n"><span class="pre">contents</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L208"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField.legend_tag" title="Link to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">tag='legend'</span></code> を指定して <a class="reference internal" href="#django.forms.BoundField.label_tag" title="django.forms.BoundField.label_tag"><code class="xref py py-meth docutils literal notranslate"><span class="pre">label_tag()</span></code></a> を呼び出すと、ラベルを <code class="docutils literal notranslate"><span class="pre">&lt;legend&gt;</span></code> タグでレンダリングします。これは、 <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> よりも <code class="docutils literal notranslate"><span class="pre">&lt;legend&gt;</span></code> が適しているラジオボタンや複数のチェックボックスウィジェットをレンダリングする際に便利です。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.forms.BoundField.render">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">render</span></span>(<em class="sig-param"><span class="n"><span class="pre">template_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renderer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#django.forms.BoundField.render" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<span class="title">New in Django 5.0.</span> </div>
<p>renderメソッドは <code class="docutils literal notranslate"><span class="pre">as_field_group</span></code> によって呼び出されます。すべての引数はオプションであり、デフォルト値は次のとおりです。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">template_name</span></code>: <a class="reference internal" href="#django.forms.BoundField.template_name" title="django.forms.BoundField.template_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BoundField.template_name</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">context</span></code>: <a class="reference internal" href="#django.forms.BoundField.get_context" title="django.forms.BoundField.get_context"><code class="xref py py-meth docutils literal notranslate"><span class="pre">BoundField.get_context()</span></code></a> が返す値</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">renderer</span></code>: <a class="reference internal" href="#django.forms.Form.default_renderer" title="django.forms.Form.default_renderer"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Form.default_renderer</span></code></a> が返す値</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">template_name</span></code> を渡すことで、単一の呼び出しに使用されるテンプレートをカスタマイズできます。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.forms.BoundField.value">
<span class="sig-prename descclassname"><span class="pre">BoundField.</span></span><span class="sig-name descname"><span class="pre">value</span></span>()<a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/boundfield.py#L138"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.BoundField.value" title="Link to this definition">¶</a></dt>
<dd><p>このメソッドを使用すると、<code class="docutils literal notranslate"><span class="pre">Widget</span></code> によってレンダリングされるフィールドの生の値をレンダリングできます:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">initial</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;welcome&quot;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unbound_form</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">initial</span><span class="o">=</span><span class="n">initial</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bound_form</span> <span class="o">=</span> <span class="n">ContactForm</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;hi&quot;</span><span class="p">},</span> <span class="n">initial</span><span class="o">=</span><span class="n">initial</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">unbound_form</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">())</span>
<span class="go">welcome</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">bound_form</span><span class="p">[</span><span class="s2">&quot;subject&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">())</span>
<span class="go">hi</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>
<section id="s-customizing-boundfield">
<span id="customizing-boundfield"></span><h2><code class="docutils literal notranslate"><span class="pre">BoundField</span></code> のカスタマイズ<a class="headerlink" href="#customizing-boundfield" title="Link to this heading">¶</a></h2>
<p>テンプレートでフォームフィールドに関する追加情報にアクセスする必要があり、 <a class="reference internal" href="fields.html#django.forms.Field" title="django.forms.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">Field</span></code></a> のサブクラスを使用するだけでは不十分な場合は、 <a class="reference internal" href="#django.forms.BoundField" title="django.forms.BoundField"><code class="xref py py-class docutils literal notranslate"><span class="pre">BoundField</span></code></a> のカスタマイズも検討してください。</p>
<p>カスタムフォームフィールドは <code class="docutils literal notranslate"><span class="pre">get_bound_field()</span></code> をオーバーライドできます:</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Field.get_bound_field">
<span class="sig-prename descclassname"><span class="pre">Field.</span></span><span class="sig-name descname"><span class="pre">get_bound_field</span></span>(<em class="sig-param"><span class="n"><span class="pre">form</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_name</span></span></em>)<a class="reference external" href="https://github.com/django/django/blob/stable/5.1.x/django/forms/fields.py#L249"><span class="viewcode-link"><span class="pre">[ソース]</span></span></a><a class="headerlink" href="#django.forms.Field.get_bound_field" title="Link to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#django.forms.Form" title="django.forms.Form"><code class="xref py py-class docutils literal notranslate"><span class="pre">Form</span></code></a> のインスタンスとフィールドの名前を受け取ります。テンプレートでフィールドにアクセスする際に使用される返り値は、ほとんどの場合、 <a class="reference internal" href="#django.forms.BoundField" title="django.forms.BoundField"><code class="xref py py-class docutils literal notranslate"><span class="pre">BoundField</span></code></a> のサブクラスのインスタンスになります。</p>
</dd></dl>

<p>たとえば <code class="docutils literal notranslate"><span class="pre">GPSCoordinatesField</span></code> を持っていて、テンプレート内で座標に関する追加情報にアクセスしたい場合、以下のように実装できます:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">GPSCoordinatesBoundField</span><span class="p">(</span><span class="n">BoundField</span><span class="p">):</span>
    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">country</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the country the coordinates lie in or None if it can&#39;t be</span>
<span class="sd">        determined.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">get_country_from_coordinates</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>


<span class="k">class</span><span class="w"> </span><span class="nc">GPSCoordinatesField</span><span class="p">(</span><span class="n">Field</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_bound_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">form</span><span class="p">,</span> <span class="n">field_name</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">GPSCoordinatesBoundField</span><span class="p">(</span><span class="n">form</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">field_name</span><span class="p">)</span>
</pre></div>
</div>
<p>これで、テンプレート内で <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">form.coordinates.country</span> <span class="pre">}}</span></code> を使って国にアクセスできるようになりました。</p>
</section>
<section id="s-binding-uploaded-files-to-a-form">
<span id="s-binding-uploaded-files"></span><span id="binding-uploaded-files-to-a-form"></span><span id="binding-uploaded-files"></span><h2>アップロードされたファイルをフォームにバインドする<a class="headerlink" href="#binding-uploaded-files-to-a-form" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">FileField</span></code> と <code class="docutils literal notranslate"><span class="pre">ImageField</span></code> フィールドを持つフォームを扱うのは、通常のフォームよりも少し複雑です。</p>
<p>まず、ファイルをアップロードするには、<code class="docutils literal notranslate"><span class="pre">&lt;form&gt;</span></code> 要素が <code class="docutils literal notranslate"><span class="pre">enctype</span></code> を <code class="docutils literal notranslate"><span class="pre">&quot;multipart/form-data&quot;</span></code> として正しく定義していることを確認する必要があります:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">enctype</span><span class="o">=</span><span class="s">&quot;multipart/form-data&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;/foo/&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>次に、フォームを使用する際には、ファイルデータをバインドする必要があります。ファイルデータは通常のフォームデータとは別に扱われるため、フォームに <code class="docutils literal notranslate"><span class="pre">FileField</span></code> や <code class="docutils literal notranslate"><span class="pre">ImageField</span></code> が含まれている場合、フォームをバインドする際に第2引数を指定する必要があります。したがって、 <code class="docutils literal notranslate"><span class="pre">ImageField</span></code> を <code class="docutils literal notranslate"><span class="pre">mugshot</span></code> という名前で ContactForm に追加した場合、mugshot イメージを含むファイルデータをバインドする必要があります:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go"># Bound form with an image field</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">django.core.files.uploadedfile</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimpleUploadedFile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;hello&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hi there&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;sender&quot;</span><span class="p">:</span> <span class="s2">&quot;foo@example.com&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;cc_myself&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file_data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;mugshot&quot;</span><span class="p">:</span> <span class="n">SimpleUploadedFile</span><span class="p">(</span><span class="s2">&quot;face.jpg&quot;</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;file data&quot;</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactFormWithMugshot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">file_data</span><span class="p">)</span>
</pre></div>
</div>
<p>実際には、通常、（フォームデータのソースとして <code class="docutils literal notranslate"><span class="pre">request.POST</span></code> を使用するのと同様に、）ファイルデータのソースとして <code class="docutils literal notranslate"><span class="pre">request.FILES</span></code> を指定します:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go"># Bound form with an image field, data from the request</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactFormWithMugshot</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">,</span> <span class="n">request</span><span class="o">.</span><span class="n">FILES</span><span class="p">)</span>
</pre></div>
</div>
<p>バインドされていないフォームを作成する方法は、いつも通りです。フォームデータ <em>と</em> ファイルデータの両方を省略します。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go"># Unbound form with an image field</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactFormWithMugshot</span><span class="p">()</span>
</pre></div>
</div>
<section id="s-testing-for-multipart-forms">
<span id="testing-for-multipart-forms"></span><h3>マルチパートフォームのテスト<a class="headerlink" href="#testing-for-multipart-forms" title="Link to this heading">¶</a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="django.forms.Form.is_multipart">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">is_multipart</span></span>()<a class="headerlink" href="#django.forms.Form.is_multipart" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>再利用可能なビューやテンプレートを書いている場合、フォームがマルチパートフォームかどうかを事前に知ることができないかもしれません。 <code class="docutils literal notranslate"><span class="pre">is_multipart()</span></code> メソッドは、フォームの送信にマルチパートエンコーディングが必要かどうかを教えてくれます:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactFormWithMugshot</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">is_multipart</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>テンプレートでの使い方の例です:</p>
<div class="highlight-html+django notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">form.is_multipart</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">form</span> <span class="na">enctype</span><span class="o">=</span><span class="s">&quot;multipart/form-data&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;/foo/&quot;</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;/foo/&quot;</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{{</span> <span class="nv">form</span> <span class="cp">}}</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="s-subclassing-forms">
<span id="subclassing-forms"></span><h2>フォームをサブクラス化する<a class="headerlink" href="#subclassing-forms" title="Link to this heading">¶</a></h2>
<p>複数の <code class="docutils literal notranslate"><span class="pre">Form</span></code> クラスがフィールドを共有している場合、サブクラス化を利用して冗長性を排除できます。</p>
<p>カスタム <code class="docutils literal notranslate"><span class="pre">Form</span></code> クラスをサブクラス化すると、親クラスのすべてのフィールドが含まれ、その後にサブクラスで定義したフィールドが続きます。</p>
<p>この例では、<code class="docutils literal notranslate"><span class="pre">ContactFormWithPriority</span></code> は <code class="docutils literal notranslate"><span class="pre">ContactForm</span></code> の全てのフィールドに加え、追加のフィールド <code class="docutils literal notranslate"><span class="pre">priority</span></code> を含んでいます。<code class="docutils literal notranslate"><span class="pre">ContactForm</span></code> のフィールドが最初に配置されます:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">ContactFormWithPriority</span><span class="p">(</span><span class="n">ContactForm</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">priority</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">ContactFormWithPriority</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;div&gt;Subject:&lt;input type=&quot;text&quot; name=&quot;subject&quot; maxlength=&quot;100&quot; required&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;Message:&lt;textarea name=&quot;message&quot; cols=&quot;40&quot; rows=&quot;10&quot; required&gt;&lt;/textarea&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;Sender:&lt;input type=&quot;email&quot; name=&quot;sender&quot; required&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;Cc myself:&lt;input type=&quot;checkbox&quot; name=&quot;cc_myself&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;Priority:&lt;input type=&quot;text&quot; name=&quot;priority&quot; required&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p>複数のフォームをサブクラス化し、フォームをミックスインとして扱うことができます。この例では、<code class="docutils literal notranslate"><span class="pre">BeatleForm</span></code> が <code class="docutils literal notranslate"><span class="pre">PersonForm</span></code> と <code class="docutils literal notranslate"><span class="pre">InstrumentForm</span></code> （この順番で）の両方をサブクラス化し、そのフィールドリストは親クラスのフィールドを含んでいます:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">django</span><span class="w"> </span><span class="kn">import</span> <span class="n">forms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">PersonForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">first_name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">last_name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">InstrumentForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">instrument</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">BeatleForm</span><span class="p">(</span><span class="n">InstrumentForm</span><span class="p">,</span> <span class="n">PersonForm</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">haircut_type</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">BeatleForm</span><span class="p">(</span><span class="n">auto_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&lt;div&gt;First name:&lt;input type=&quot;text&quot; name=&quot;first_name&quot; required&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;Last name:&lt;input type=&quot;text&quot; name=&quot;last_name&quot; required&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;Instrument:&lt;input type=&quot;text&quot; name=&quot;instrument&quot; required&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;Haircut type:&lt;input type=&quot;text&quot; name=&quot;haircut_type&quot; required&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p>親クラスから継承された <code class="docutils literal notranslate"><span class="pre">Field</span></code> を、サブクラスでフィールドの名前を <code class="docutils literal notranslate"><span class="pre">None</span></code> に設定することで、宣言的にフィールドを削除できます。たとえば次のようにします:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">django</span><span class="w"> </span><span class="kn">import</span> <span class="n">forms</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">ParentForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">age</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">()</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">ChildForm</span><span class="p">(</span><span class="n">ParentForm</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ChildForm</span><span class="p">()</span><span class="o">.</span><span class="n">fields</span><span class="p">)</span>
<span class="go">[&#39;age&#39;]</span>
</pre></div>
</div>
</section>
<section id="s-prefixes-for-forms">
<span id="s-form-prefix"></span><span id="prefixes-for-forms"></span><span id="form-prefix"></span><h2>フォームのプレフィックス<a class="headerlink" href="#prefixes-for-forms" title="Link to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.forms.Form.prefix">
<span class="sig-prename descclassname"><span class="pre">Form.</span></span><span class="sig-name descname"><span class="pre">prefix</span></span><a class="headerlink" href="#django.forms.Form.prefix" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>1 つの <code class="docutils literal notranslate"><span class="pre">&lt;form&gt;</span></code> タグの中に複数の Django フォームを配置できます。各 <code class="docutils literal notranslate"><span class="pre">Form</span></code> に独自の名前空間を与えるには、<code class="docutils literal notranslate"><span class="pre">prefix</span></code> キーワード引数を使用します。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mother</span> <span class="o">=</span> <span class="n">PersonForm</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;mother&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">father</span> <span class="o">=</span> <span class="n">PersonForm</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;father&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">mother</span><span class="p">)</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_mother-first_name&quot;&gt;First name:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;mother-first_name&quot; required id=&quot;id_mother-first_name&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_mother-last_name&quot;&gt;Last name:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;mother-last_name&quot; required id=&quot;id_mother-last_name&quot;&gt;&lt;/div&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">father</span><span class="p">)</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_father-first_name&quot;&gt;First name:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;father-first_name&quot; required id=&quot;id_father-first_name&quot;&gt;&lt;/div&gt;</span>
<span class="go">&lt;div&gt;&lt;label for=&quot;id_father-last_name&quot;&gt;Last name:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;father-last_name&quot; required id=&quot;id_father-last_name&quot;&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p>プレフィックスは、フォームクラスにも指定できます：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">PersonForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
<span class="gp">... </span>    <span class="o">...</span>
<span class="gp">... </span>    <span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;person&quot;</span>
<span class="gp">...</span>
</pre></div>
</div>
</section>
</section>


          </div>
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../contents.html">目次</a></h3>
    <ul>
<li><a class="reference internal" href="#">フォーム API</a><ul>
<li><a class="reference internal" href="#bound-and-unbound-forms">バインドされた (bound) フォームとバインドされていない (unbound) フォーム</a></li>
<li><a class="reference internal" href="#using-forms-to-validate-data">フォームをデータの検証に使用する</a><ul>
<li><a class="reference internal" href="#behavior-of-unbound-forms">バインドされていないフォームの動作</a></li>
</ul>
</li>
<li><a class="reference internal" href="#initial-form-values">フォームの初期値</a></li>
<li><a class="reference internal" href="#checking-which-form-data-has-changed">どのフォームデータが変更されたかをチェックする</a></li>
<li><a class="reference internal" href="#accessing-the-fields-from-the-form">フォームからフィールドにアクセスする</a></li>
<li><a class="reference internal" href="#accessing-clean-data">&quot;clean&quot; なデータにアクセスする</a></li>
<li><a class="reference internal" href="#outputting-forms-as-html">フォームをHTMLとしてアウトプットする</a><ul>
<li><a class="reference internal" href="#default-rendering">デフォルトのレンダリング</a><ul>
<li><a class="reference internal" href="#template-name"><code class="docutils literal notranslate"><span class="pre">template_name</span></code></a></li>
<li><a class="reference internal" href="#render"><code class="docutils literal notranslate"><span class="pre">render()</span></code></a></li>
<li><a class="reference internal" href="#get-context"><code class="docutils literal notranslate"><span class="pre">get_context()</span></code></a></li>
<li><a class="reference internal" href="#template-name-label"><code class="docutils literal notranslate"><span class="pre">template_name_label</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#output-styles">出力スタイル</a><ul>
<li><a class="reference internal" href="#as-div"><code class="docutils literal notranslate"><span class="pre">as_div()</span></code></a></li>
<li><a class="reference internal" href="#as-p"><code class="docutils literal notranslate"><span class="pre">as_p()</span></code></a></li>
<li><a class="reference internal" href="#as-ul"><code class="docutils literal notranslate"><span class="pre">as_ul()</span></code></a></li>
<li><a class="reference internal" href="#as-table"><code class="docutils literal notranslate"><span class="pre">as_table()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#styling-required-or-erroneous-form-rows">必須フォームとエラーのあるフォームのスタイリング</a></li>
<li><a class="reference internal" href="#configuring-form-elements-html-id-attributes-and-label-tags">フォーム要素の HTML <code class="docutils literal notranslate"><span class="pre">id</span></code> 属性と <code class="docutils literal notranslate"><span class="pre">&lt;label&gt;</span></code> タグを設定する</a></li>
<li><a class="reference internal" href="#configuring-the-rendering-of-a-form-s-widgets">フォームウィジェットのレンダリングを設定する</a></li>
<li><a class="reference internal" href="#notes-on-field-ordering">フィールドの順序に関する記述</a></li>
<li><a class="reference internal" href="#how-errors-are-displayed">エラーの表示方法</a></li>
<li><a class="reference internal" href="#customizing-the-error-list-format">エラーリストのフォーマットをカスタムする</a></li>
</ul>
</li>
<li><a class="reference internal" href="#more-granular-output">さらに詳細なアウトプット</a><ul>
<li><a class="reference internal" href="#attributes-of-boundfield"><code class="docutils literal notranslate"><span class="pre">BoundField</span></code> の属性一覧</a></li>
<li><a class="reference internal" href="#methods-of-boundfield"><code class="docutils literal notranslate"><span class="pre">BoundField</span></code> のメソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#customizing-boundfield"><code class="docutils literal notranslate"><span class="pre">BoundField</span></code> のカスタマイズ</a></li>
<li><a class="reference internal" href="#binding-uploaded-files-to-a-form">アップロードされたファイルをフォームにバインドする</a><ul>
<li><a class="reference internal" href="#testing-for-multipart-forms">マルチパートフォームのテスト</a></li>
</ul>
</li>
<li><a class="reference internal" href="#subclassing-forms">フォームをサブクラス化する</a></li>
<li><a class="reference internal" href="#prefixes-for-forms">フォームのプレフィックス</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>前のトピックへ</h4>
    <p class="topless"><a href="index.html"
                          title="前の章へ">フォーム</a></p>
  </div>
  <div>
    <h4>次のトピックへ</h4>
    <p class="topless"><a href="fields.html"
                          title="次の章へ">フォーム フィールド</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/ref/forms/api.txt"
            rel="nofollow">ソースコードを表示</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="検索" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
              <h3>Last update:</h3>
              <p class="topless">1月 22, 2025</p>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    &laquo; <a href="index.html" title="フォーム">previous</a>
     |
    <a href="../index.html" title="API リファレンス" accesskey="U">up</a>
   |
    <a href="fields.html" title="フォーム フィールド">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>